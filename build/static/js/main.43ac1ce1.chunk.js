(this.webpackJsonpchip_counter_app=this.webpackJsonpchip_counter_app||[]).push([[0],{111:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCCAYAAACKAxD9AAAACXBIWXMAABcRAAAXEQHKJvM/AAAG6UlEQVR4nO2d4XHbOBCFcTf5b3ZwSgWWK7BSQZQKzq4gugqidOBUcFIHVgWRKzi5A6sDsQJnqFne8QSAAkAA3AXfN8OxR5RskXhc7AKLxW/v7+8KgN8nfwfAGQgBnIEQwBkIAZz5UPBtWCilZnTMlVIV/f6H9k47L3TmoJQ6KaX2Sqk3OoqilKihooZvj1vtHXGpSRTtcch9wbGRLITmKX/I1PDXaIXxTMfpyvvZIU0IjWlfKaWWniY+NzsSxIbxd/wfUoTwQMe9doY3NYnhibtfwVkIFTX+ivnT78qWRLHn+OU4CqGixm+OG+2sfJpIZM1NENyE8EA3qQQLcI0tXSuLLoOLEObUj0rzAYZS03Wvx/4iYwuhopvwVTszLY5kDUfrLsYcYl7QQMzURaCoK/xJ1qHSzmZgLCGs6cKn4Av48JWswjz3P87dNVQ00DI1X8CXmqKmbANSOYUwJ7WXGBKmYku+Q3JydQ0PEEEQf9J9S+435LAIjQj+1l4FPrySc51sMiu1RVhDBFG4Te1EprQIGzJtIB51J+yOSiqLsIYIknBDlmEW+4+nsAjwCdIT3WeIbREggjzcxo4mYlqExpH5R3sVpGRH2VqDiWURKq4JF4XzOdbMZSyLcGCQQJqCmq5t30lpN6WzVxeh3azj0M0751MNqH2hoftgYgjhqbAZxLqTeJrCyu0TzLXUJLTgJJehC1wWBYngSGZWYjr6DQl3oZ1xZIiPUA01R4z4Tk/URuKaBOJ+iL8wRAhPBUwiNfH4Hd1AqQLo8i10sClUCIsCRg63qYZrRyYohyFUCGJW8Fho5/lLsAKX3IfkMIQIQXq6ebZkjxHxzn30FUK7+EQqr8K/vys3vtfpKwTpq49K7Q5MrHysgo8QpFuD7wU6hn14WQUfIUi2BkcOq4lGwNkquApBujWYogiUj1VwFcJSsDWoCwh3h+AUIbkKQfITNWURKAr1r4rBRQgL4eMGUxeCchGCy+yj5MGXOlOksOjkHVwjeuKpA/f0f63T1C5CiJIKNRIps6akVXZZ0oijkWtdg2QnUSW0BnP6298E3Z9ey+4iBMmksAgV+R3S/Kbbvm6pdCGkYCU4P9Pann1CSJlsmYsUFqHXxDLHmsrWJwTrhyaMb1FvbljbFELww9rHCuHGtqIaQvCjhHtivAabEGaoblIsXhbB+GZQBMa2hRCmhzH0hRCmida+NiGMUv0TZENrX5sQNMWAotDa1yYERAxl42QRtDeB4tDa2CQEzWyA4tDa2CQEMEEgBHAGQgBnJOwNve1LusxMjPwGljmOpmJaC9pdhQufCivdp93wEXi5nIVE15AXzVvnAoSQFwgBnGGb4WQSAkrppsOYHTQCWhubhADSIcoiKFozCOLDJQNaKx9kE8KUSszkglPiq9a+NiFwGcApCU4Rg9a+EEI+OPkHWvvahKB5lWAwXCzCi/ZKjxA0xYDBcBGCsW37hHDUXgWhcFowZLT2NiEok2cJguHkHxjbtU8IRuWAILiEjtaaUhBCHrhYBGub9gnhwMRP+Elz+CFHbNaB34PLJifWrZf6hND7QSASa3teE4LVlABxvJrmGFyF8IwwshisNRaV4zS01ZwAUfS2o4sQUMtYPru+bkE5CuFgG58GYujtFlyFoGAVRHN0cfp9hACnUSZOe2345CxeNS+AHc671/gIYYNcRnE4P7w+QjjBKoiiTiUERf0NfAUZrHw2Ow3dGxrw5ugb6YUIYYNxBfZk2S1eTWSjbansQiYLQ4VwoL2WAS/q0I1Fhqx9XNPUJuBD8G74QxfBSt7WpjR2Q2aKhwqh6SL+0l4FuTkOfShjLIt/ooJXYBxq2r0tqEtoiVUfYQV/YTRWthR1H2IJ4USqxFxEXn7EShGIWTHljRZyQAx52MYcz4ldOueASCILr7Hvc4oaSk0I86i9CmLxmmIJXapiWhuIIQmtCAZFCCZSVlWDGOKSTAQqQ3m9DdVShgM5jG1KEahMdRb3iCYGsR0yh+BKroKbB1oajkEnPx5zRWE5K6+eqI7QD+0MuKSZO7jLuZ5kjBK8zSDIF3QVVnb0wGQtXTRWLeZnulikvP1HTTO5gyeQQhizKHc7JP0I6/CvFRhtuQCH6uwbciSnOJV9pG5yaat/mAsuZfpP5B3fTaS7qCnnc8al/gS3/RoO1F18KlQQXQGwWh/CdeOOfWGCuBRAdmfwGtx3cGkF8ZHGH6Q5lS/kDFdcBdAiZSufNxp/qMi52mnv4MORnv6PJGIRRUYk7AR7yTMdFd3oJf0cc5ucF/pOe6k1rCUKoeXUEYWiOHxOomh+3mqfiENbz3jfaXi2Jt8V05bAYIJguz9wBkIAZyAEcAZCAEoppX4BGxWJRISub6IAAAAASUVORK5CYII="},112:function(e,t,a){e.exports=a.p+"static/media/twitter-icon.89eaa742.svg"},113:function(e,t){},128:function(e,t,a){e.exports=a(168)},156:function(e,t,a){},157:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a(11),i=a(30),l=a(45),s=a(224),u=a(202),d=a(58),m=function(){return r.a.createElement(s.a,{position:"relative",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},r.a.createElement(s.a,{textAlign:"center"},r.a.createElement(u.a,{size:80}),r.a.createElement(d.a,null,"Loading...")))};var p=function(e){var t=Object.assign({},e);return Object(o.d)((function(e){return e.data.playerSession})).isLoggedIn?r.a.createElement(l.b,t):r.a.createElement(l.a,{to:"/login"})},E=a(204),b=a(170),f=a(9),h=a.n(f),v=a(54),_=a(110),O="wss://poker-webapp-backend.herokuapp.com/",y="https://poker-webapp-backend.herokuapp.com/api",C="https://poker-webapp-backend.herokuapp.com/auth/twitter",g="https://poker-webapp-backend.herokuapp.com/auth/facebook",A=a.n(_).a.create({baseURL:y,headers:{Accept:"application/json"},withCredentials:!0});A.interceptors.response.use((function(e){var t=localStorage.getItem("current-client-version"),a=e.headers["current-client-version"];return localStorage.setItem("current-client-version",a),t&&t!==a&&window.location.reload(),e}));var I=function(e,t,a,n){var r=new FormData;return r.append("type","PLAYER_ACTION_TAKE_SEAT"),r.append("table_id",e),r.append("player_id",t),r.append("seat_no",a),r.append("buy_in_amount",n),A.post("/game_dealer/take_seat",r)},T=function(e,t){var a=new FormData;return a.append("type","PLAYER_ACTION_TAKE_SEAT"),a.append("table_id",e),a.append("seat_no",t),A.post("/game_dealer/add_npc_player",a)},N=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=new FormData;return r.append("type",e),r.append("table_id",t),r.append("player_id",a),n&&r.append("amount",n),A.post("/game_dealer",r)},S=function(e){var t=new FormData;return t.append("table_id",e),A.post("/game_dealer/start",t)},j=function(e){var t=e.name,a=e.sb,n=e.bb,r=new FormData;return r.append("table[name]",t),r.append("table[sb_size]",a),r.append("table[bb_size]",n),A.post("/tables",r)},R=function(e){var t=e.name,a=new FormData;return a.append("nickname",t),A.post("/session",a)},k=function(){return A.get("/players/@me")},x=function(){return A.get("/tables")},D=function(){return Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.clear(),e.next=3,A.delete("/session");case 3:window.location.href="/login";case 4:case"end":return e.stop()}}),e)})))},w=function(e){return{button:{width:"200px"},container:{display:"flex",flexDirection:"column",justifyContent:"space-around",position:"fixed",height:"50%",width:"80%",textAlign:"center",margin:"auto",top:0,bottom:0,left:0,right:0,borderRadius:e.spacing(1)},link:{textDecoration:"none"}}},L=Object(b.a)(w);var P=function(){var e=L(),t=D();return r.a.createElement("div",{className:e.container},r.a.createElement(s.a,null,r.a.createElement(i.b,{to:"/newTable",className:e.link},r.a.createElement(E.a,{variant:"outlined",className:e.button},"\u65b0\u898f\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210"))),r.a.createElement(s.a,null,r.a.createElement(i.b,{to:"/tables",className:e.link},r.a.createElement(E.a,{variant:"outlined",className:e.button},"\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7"))),r.a.createElement(s.a,null,r.a.createElement(E.a,{variant:"outlined",className:e.button,onClick:t},"\u30ed\u30b0\u30a2\u30a6\u30c8")))},B=a(228),M=a(111),H=a.n(M),G=function(e){return{button:{backgroundColor:"#1877F2",width:"300px",color:e.palette.common.white,textTransform:"none","&:hover":{backgroundColor:e.palette.twitter.main}},icon:{width:"30px",height:"auto"}}},F=Object(b.a)(G);var U=function(){var e=F();return r.a.createElement(E.a,{variant:"contained",startIcon:r.a.createElement(B.a,{src:H.a,className:e.icon}),className:e.button,href:g},"Facebook\u3067\u30ed\u30b0\u30a4\u30f3")},Y=a(112),K=a.n(Y),W=function(e){return{button:{color:e.palette.common.white,width:"300px",backgroundColor:e.palette.twitter.main,textTransform:"none","&:hover":{backgroundColor:e.palette.twitter.main}},icon:{width:"30px",height:"auto"}}},z=Object(b.a)(W);var Q=function(){var e=z();return r.a.createElement(E.a,{variant:"contained",className:e.button,startIcon:r.a.createElement(B.a,{src:K.a,className:e.icon}),href:C},"Twitter\u3067\u30ed\u30b0\u30a4\u30f3")},V=a(31),J=a(223),Z=a(73),q=a(36),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(V.a)(t,2),r=a[0],c=a[1],o=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(q.a)({},e,Object(Z.a)({},a,n))}))};return[r,o]},$=a(50),ee=function(){var e=Object(l.f)(),t=Object(o.c)();return function(){var a=Object(v.a)(h.a.mark((function a(n){var r,c,o,i,l;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R(n);case 2:r=a.sent,c=Object($.camelizeKeys)(r.data),o=c.jwt,i=c.nickname,l=c.playerId,localStorage.setItem("playerSession.jwt",o),t({type:"LOGIN_FORM_ON_SUCCESS",nickname:i,playerId:l}),e.push("/");case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},te=a(113),ae=a.n(te),ne=Object(b.a)(ae.a);var re=function(){var e=ne(),t=X({name:""}),a=Object(V.a)(t,2),n=a[0],c=a[1],o=ee();return r.a.createElement(s.a,{className:e.container},r.a.createElement(J.a,{name:"name",label:"\u30e6\u30fc\u30b6\u30fc\u540d",value:n.name,onChange:c}),r.a.createElement(E.a,{variant:"outlined",onClick:function(){return o(n)}},"\u30c7\u30d0\u30c3\u30b0\u30ed\u30b0\u30a4\u30f3"))},ce=function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",position:"fixed",height:"50%",width:"80%",textAlign:"center",margin:"auto",top:0,bottom:0,left:0,right:0,background:"rgba(200, 200, 200, 0.3)",borderRadius:"30px"}}},oe=Object(b.a)(ce);var ie=function(){var e=oe();return Object(o.d)((function(e){return e.data.playerSession})).isLoggedIn?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:e.container},r.a.createElement(d.a,{variant:"h6"},"\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044"),r.a.createElement(s.a,{mt:2},r.a.createElement(Q,null)),r.a.createElement(s.a,{mt:2},r.a.createElement(U,null)),r.a.createElement(s.a,{mt:5},r.a.createElement(re,null)))},le=function(){var e=Object(l.f)();return function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(a);case 2:n=t.sent,r=Object($.camelizeKeys)(n.data),c=r.tableId,e.push("/tables/".concat(c));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},se=function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",position:"fixed",height:"50%",width:"80%",textAlign:"center",margin:"auto",top:0,bottom:0,left:0,right:0,backgroundColor:e.palette.common.white,borderRadius:e.spacing(1)},formGroup:{marginBottom:e.spacing(2)}}},ue=Object(b.a)(se),de={name:"",sb:50,bb:100};var me=function(){var e=ue(),t=Object(n.useState)(!1),a=Object(V.a)(t,2),c=a[0],o=a[1],i=X(de),l=Object(V.a)(i,2),u=l[0],m=l[1],p=le();return r.a.createElement("div",{className:e.container},r.a.createElement(d.a,{variant:"h6"},"\u65b0\u3057\u304f\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b"),r.a.createElement(s.a,{mt:2},r.a.createElement("div",{className:e.formGroup},r.a.createElement(J.a,{name:"name",label:"\u30c6\u30fc\u30d6\u30eb\u540d",variant:"outlined",value:u.name,onChange:m,disabled:c,autoFocus:!0})),r.a.createElement("div",{className:e.formGroup},r.a.createElement(J.a,{name:"sb",label:"SB",variant:"outlined",value:u.sb,onChange:m,disabled:c})),r.a.createElement("div",{className:e.formGroup},r.a.createElement(J.a,{name:"bb",label:"BB",variant:"outlined",value:u.bb,onChange:m,disabled:c})),r.a.createElement("div",{className:e.formGroup},r.a.createElement(E.a,{disabled:c,variant:"contained",color:"primary",onClick:function(){o(!0),p(u)}},"\u4f5c\u6210"))))};var pe=function(){return r.a.createElement("div",null,r.a.createElement(me,null))},Ee=a(18),be=a(19),fe=a(20),he=a(21),ve=a(207),_e=a(208),Oe=a(211),ye=a(209),Ce=a(210),ge=function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(){return Object(Ee.a)(this,a),t.apply(this,arguments)}return Object(be.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.onLoading)()}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.tables;return e.isPrepared?r.a.createElement(ve.a,null,r.a.createElement(_e.a,null,r.a.createElement(ye.a,null,r.a.createElement(Ce.a,null,"\u30c6\u30fc\u30d6\u30eb\u540d"),r.a.createElement(Ce.a,null,"\u30d7\u30ec\u30a4\u30e4\u30fc"))),r.a.createElement(Oe.a,null,a.map((function(e){return r.a.createElement(ye.a,{key:e.id},r.a.createElement(Ce.a,null,r.a.createElement(i.b,{to:"".concat(t.url,"/").concat(e.id)},r.a.createElement(E.a,{variant:"contained"},e.name||e.id))),r.a.createElement(Ce.a,null,e.players.length," / 10 \u540d"))})))):r.a.createElement("div",{style:{top:0,bottom:0,left:0,right:0,width:"80%",height:"30%",position:"fixed",margin:"auto",textAlign:"center"}},r.a.createElement(u.a,{thickness:4,size:60}),r.a.createElement("div",null,"Loading Table Data..."))}}]),a}(n.Component),Ae=Object(o.b)((function(e,t){return{isPrepared:e.data.tables.isPrepared,tables:e.data.tables.tables}}),(function(e,t){return{onLoading:function(){e({type:"LOADING_TABLES_DATA"})}}}))(ge),Ie=(a(156),Object(o.b)((function(e,t){return{}}),(function(e,t){var a=t.playerOnTurn;return{incrementBetSize:function(t){e({type:"INCREMENT_BET_SIZE",playerId:a.id,playerStack:a.stack,amount:t})}}}))((function(e){var t=e.incrementBetSize;return r.a.createElement("div",{className:"chipFieldContainer"},r.a.createElement("div",{style:{width:"18%",left:"5%",bottom:"8px",position:"absolute"}},r.a.createElement(E.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){return t(25)},style:{background:"white"}},"25")),r.a.createElement("div",{style:{width:"18%",left:"28%",bottom:"8px",position:"absolute"}},r.a.createElement(E.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){return t(100)},style:{background:"white"}},"100")),r.a.createElement("div",{style:{width:"20%"}}),r.a.createElement("div",{style:{width:"18%",left:"52%",bottom:"8px",position:"absolute"}},r.a.createElement(E.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){return t(500)},style:{background:"white"}},"500")),r.a.createElement("div",{style:{width:"18%",left:"75%",bottom:"8px",position:"absolute"}},r.a.createElement(E.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){return t(1e3)},style:{background:"white"}},"1000")))}))),Te=(a(157),function(){return r.a.createElement("div",{style:{height:"100%",position:"relative"}},r.a.createElement("div",{style:{top:0,bottom:0,left:0,right:0,position:"absolute",margin:"auto",textAlign:"center"}},r.a.createElement(u.a,{thickness:4,size:40})))}),Ne=a(226),Se=a(212),je=a(64),Re=a.n(je);var ke=function(){var e=Object(o.c)();return Object(n.useEffect)((function(){e({type:"INITIALIZE_WEBRTC"})}),[e]),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e({type:"HANDLE_JOIN_SESSION"})}},"Join"),r.a.createElement("button",{onClick:function(){return e({type:"HANDLE_LEAVE_SESSION"})}},"Leave"),r.a.createElement("div",null,r.a.createElement("video",{id:"local-video",autoPlay:!0,style:{width:"320px"}}),r.a.createElement("div",{id:"remote-video-container",style:{width:"320px"}})))},xe=a(205),De=a(217),we=a(213),Le=a(214),Pe=function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(){return Object(Ee.a)(this,a),t.apply(this,arguments)}return Object(be.a)(a,[{key:"render",value:function(){var e=this.props,t=e.player,a=e.dialogOpen,n=e.onRequestClose,c=e.switchToBuyInDialog;return r.a.createElement(Ne.a,{open:a,onClose:n},r.a.createElement(Se.a,null,"Player "+t.nickname),r.a.createElement(we.a,null,r.a.createElement("div",null,"Stack ",t.stack)),r.a.createElement(Le.a,null,r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:c},"\u30c1\u30c3\u30d7\u91cf\u8abf\u6574")))}}]),a}(n.Component),Be=Object(o.b)((function(e,t){return{}}),(function(e,t){return{onRequestClose:function(){e({type:"CLOSE_PLAYER_MENU_DIALOG"})},switchToBuyInDialog:function(){e({type:"CLOSE_PLAYER_MENU_DIALOG"}),t.openBuyInDialog()}}}))(Pe),Me=a(215),He=a(114),Ge=a.n(He);var Fe=Object(o.b)((function(e){return e}),(function(e,t){var a=t.player,n=t.tableId;return{addNpcPlayer:function(){e({type:"ADD_NPC_PLAYER",tableId:n,seatNo:a.seat_no})}}}))((function(e){var t=e.addNpcPlayer,a=Object(n.useState)(!1),c=Object(V.a)(a,2),o=c[0],i=c[1];return r.a.createElement("div",null,r.a.createElement(Me.a,{onClick:function(){return i(!0)}},r.a.createElement(Ge.a,null)),r.a.createElement(Ne.a,{open:o,onClose:function(){return i(!1)}},r.a.createElement(Se.a,null,"\u30d7\u30ec\u30a4\u30e4\u30fc\u8ffd\u52a0"),r.a.createElement(we.a,null,r.a.createElement(E.a,{fullWidth:!0,onClick:t,variant:"contained",color:"primary"},"NPC\u8ffd\u52a0")),r.a.createElement(Le.a,null,r.a.createElement(E.a,{onClick:function(){return i(!1)}},"\u9589\u3058\u308b"))))})),Ue=(a(160),function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(){return Object(Ee.a)(this,a),t.apply(this,arguments)}return Object(be.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.rank,n=t.suit,c=t.invisible,o="s"===n?"spades":"h"===n?"hearts":"d"===n?"diamonds":"clubs";switch(a){case"T":e="rank10";break;case"J":e="rank11";break;case"Q":e="rank12";break;case"K":e="rank13";break;case"A":e="rank1";break;default:e="rank".concat(a)}var i=c?"poker-card-back":"poker-card-face";return r.a.createElement("div",null,r.a.createElement("div",{className:"poker-card ".concat(o," ").concat(e)},r.a.createElement("div",{className:i},r.a.createElement("div",{className:"poker-card-face-suit"},"s"===n&&r.a.createElement("span",null,"\u2660"),"h"===n&&r.a.createElement("span",null,"\u2665"),"d"===n&&r.a.createElement("span",null,"\u2666"),"c"===n&&r.a.createElement("span",null,"\u2663")))))}}]),a}(n.Component)),Ye=a(216),Ke=a(6),We=Object(Ke.a)((function(e){return{plate:{width:"24px",margin:"auto",background:e.palette.common.white,textAlign:"center",borderRadius:"50%",boxShadow:"1px 1px 1px 1px black"},label:{lineHeight:"24px"}}}))((function(e){var t=e.classes;return r.a.createElement(Ye.a,{container:!0,className:t.plate,direction:"column",justify:"center"},r.a.createElement(Ye.a,{item:!0},r.a.createElement(d.a,{className:t.label},"D")))})),ze=(a(161),function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(){return Object(Ee.a)(this,a),t.apply(this,arguments)}return Object(be.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.progressTimer(1e3)}),1e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"progressTimer",value:function(e){var t=this,a=this.props,n=a.currentSeatNo,r=a.inGame,c=a.player;c.seat_no===n&&r&&c&&this.props.dispatchProgressTimer(e),this.timer=setTimeout((function(){t.progressTimer(1e3)}),1e3)}},{key:"render",value:function(){var e,t=this.props,a=t.isSeated,n=t.player,c=t.openBuyInDialog,o=t.tableId,i=t.openPlayerMenuDialog,l=t.openingPlayerMenuDialogPlayerId,s=t.currentSeatNo,u=t.leftSideStyle,m=t.rightSideStyle,p=t.topLeftSideStyle,b=t.topRightSideStyle,f=t.gameHandState,h=this.props,v=h.inGame,_=h.buttonSeatNo;if(!n.id){if(a)return r.a.createElement(Fe,{tableId:o,player:n});var O="No "+n.seat_no;return r.a.createElement(E.a,{variant:"contained",onClick:c},O)}e=1===n.state?"foldedPanel":"activePanel";var y,C=n.seat_no===s,g=n.hand_show,A=g?500:5;return m?y="leftDealerButtonPosition":u?y="rightDealerButtonPosition":p?y="bottomRightDealerButtonPosition":b&&(y="bottomLeftDealerButtonPosition"),r.a.createElement("div",{style:{position:"relative",height:"100%",width:"100%"}},v&&!n.hand_show&&null!==n.state&&1!==n.state?r.a.createElement("div",{style:{fontSize:"10px"}},r.a.createElement("div",{style:{position:"absolute",top:"40px",left:"calc(50% - 6px)",transform:"translate(-50%, 0)",zIndex:A}},r.a.createElement(Ue,{invisible:!g})),r.a.createElement("div",{style:{position:"absolute",top:"40px",left:"calc(50% + 6px)",transform:"translate(-50%, 0)",zIndex:A}},r.a.createElement(Ue,{invisible:!g}))):r.a.createElement("div",null),n.hand_show&&null!==n.state&&1!==n.state?r.a.createElement("div",null,r.a.createElement("div",{style:{position:"absolute",top:"",left:"0em",zIndex:A}},r.a.createElement(Ue,{rank:n.cards[0].rank,suit:n.cards[0].suit})),r.a.createElement("div",{style:{position:"absolute",top:"",left:"1.5em",zIndex:A}},r.a.createElement(Ue,{rank:n.cards[1].rank,suit:n.cards[1].suit}))):r.a.createElement("div",null),r.a.createElement("div",{className:e,onClick:i,style:{position:"absolute",zIndex:50,display:"flex",flexDirection:"row",justifyContent:"space-around"}},r.a.createElement("div",{style:{height:"100%",width:"100%",position:"relative"}},n.image_url?r.a.createElement("img",{src:n.image_url,className:C?"otherPlayerAvatarImageOnTurn":"otherPlayerAvatarImage",alt:"avatar"}):r.a.createElement(xe.a,{style:{height:"50px",width:"50px",margin:"auto",borderRadius:"50%",border:"1px solid white",background:"black"}},r.a.createElement(d.a,{style:{color:"white",lineHeight:"50px"}},"AI")),r.a.createElement("div",{className:"otherPlayerPanelTextArea"},n.actionType?r.a.createElement(d.a,{variant:"caption",style:{fontSize:"0.625rem",color:"white"}},function(e){switch(e){case"bet":return"\u30d9\u30c3\u30c8";case"check":return"\u30c1\u30a7\u30c3\u30af";case"call":return"\u30b3\u30fc\u30eb";case"fold":return"\u30d5\u30a9\u30fc\u30eb\u30c9";default:return e}}(n.actionType)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nickname"},n.nickname),r.a.createElement("div",{className:"player-stack"},n.betSize?n.stack-n.betSize:n.stack),C?r.a.createElement(De.a,{variant:"determinate",value:n.remain_time_to_action/n.max_remain_time_to_action*100}):r.a.createElement("div",null)))),n.seat_no===_?r.a.createElement("div",{className:y},r.a.createElement(We,null)):r.a.createElement("div",null),"finished"===f&&n.amount_diff&&r.a.createElement("div",{className:"\n                  betAmountArea\n                  ".concat(n.amount_diff>0?"resultChipAmountPlus":"resultChipAmountMinus","\n                  ").concat(b?"topRightSide":"","\n                  ").concat(p?"topLeftSide":"","\n                  ").concat(m?"rightSide":"","\n                  ").concat(u?"leftSide":"","\n                ")},n.amount_diff>0&&r.a.createElement("span",null,"+"),n.amount_diff),v&&(n.bet_amount_in_state||n.betSize)&&r.a.createElement("div",{className:"\n                  betAmountArea\n                  ".concat(b?"topRightSide":"","\n                  ").concat(p?"topLeftSide":"","\n                  ").concat(m?"rightSide":"","\n                  ").concat(u?"leftSide":"","\n                ")},n.betSize?r.a.createElement("span",{className:"otherPlayerBetArea"},n.bet_amount_in_state||0," -> ",n.bet_amount_in_state+n.betSize):r.a.createElement("span",{className:"otherPlayerBetArea"},n.bet_amount_in_state>0?n.bet_amount_in_state:""))),r.a.createElement(Be,{dialogOpen:l===n.id,player:n,openBuyInDialog:c}))}}]),a}(n.Component)),Qe=Object(o.b)((function(e,t){return{}}),(function(e,t){var a=t.player,n=t.tableId;return{openBuyInDialog:function(){t.openBuyInDialog(a.seat_no,a.id)},openPlayerMenuDialog:function(){t.openPlayerMenuDialog(a.id)},dispatchProgressTimer:function(t){e({type:"PROGRESS_PLAYER_ACTION_TIMER",tableId:n,playerId:a.id,remainTimeToAction:a.remain_time_to_action-t/1e3})}}}))(ze),Ve=function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(){return Object(Ee.a)(this,a),t.apply(this,arguments)}return Object(be.a)(a,[{key:"render",value:function(){var e=this.props,t=e.player,a=e.dialogOpen,n=e.onRequestClose,c=e.switchToBuyInDialog;return r.a.createElement(Ne.a,{open:a,onClose:n},r.a.createElement(Se.a,null,"Player "+t.nickname),r.a.createElement(we.a,null,r.a.createElement("div",null,"Stack ",t.stack)),r.a.createElement(Le.a,null,r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:c},"\u30c1\u30c3\u30d7\u91cf\u8abf\u6574")))}}]),a}(n.Component),Je=Object(o.b)((function(e,t){return{}}),(function(e,t){return{onRequestClose:function(){e({type:"CLOSE_PLAYER_MENU_DIALOG"})},switchToBuyInDialog:function(){e({type:"CLOSE_PLAYER_MENU_DIALOG"}),t.openBuyInDialog()}}}))(Ve),Ze=(a(162),function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(){return Object(Ee.a)(this,a),t.apply(this,arguments)}return Object(be.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.progressTimer(1e3)}),1e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"progressTimer",value:function(e){var t=this,a=this.props,n=a.currentPlayer,r=a.gameTable,c=a.inGame,o=a.playerOnTurn;n&&n.seat_no===r.currentSeatNo&&c&&o&&this.props.dispatchProgressTimer(e),this.timer=setTimeout((function(){t.progressTimer(1e3)}),1e3)}},{key:"render",value:function(){var e,t=this.props,a=t.cards,n=t.isSeated,c=t.player,o=t.openBuyInDialog,i=this.props,l=i.currentPlayer,s=i.openPlayerMenuDialog,u=i.openingPlayerMenuDialogPlayerId,d=i.onCheckAction,m=i.onFoldAction,p=i.onCallAction,b=i.checkable,f=i.inGame,h=i.gameTable,v=i.resetBetSize,_=i.dispatchBetAction,O=i.playerOnTurn,y=i.onMuckAction,C=i.onShowAction,g=i.classes,A=l&&l.seat_no===h.currentSeatNo;e=1===c.state?"foldedHeroPanel":"activeHeroPanel";var I=l&&l.id===c.id;if(!c.id){if(n)return r.a.createElement("div",null);var T="No "+c.seat_no;return r.a.createElement(E.a,{variant:"contained",onClick:o},T)}return r.a.createElement("div",{style:{position:"relative",height:"100%",width:"100%"}},f&&l&&h.currentSeatNo===l.seat_no?O&&O.betSize>0?r.a.createElement("div",null,r.a.createElement("div",{className:"foldButtonClass"},r.a.createElement(E.a,{className:g.actionButton,variant:"contained",onClick:v},"Reset")),r.a.createElement("div",{className:"callButtonClass"},r.a.createElement(E.a,{className:g.actionButton,variant:"contained",color:"primary",onClick:_},"Bet"))):O&&h.showOrMuck?r.a.createElement("div",null,r.a.createElement("div",{className:"foldButtonClass"},r.a.createElement(E.a,{className:g.actionButton,variant:"contained",onClick:y},"Muck")),r.a.createElement("div",{className:"callButtonClass"},r.a.createElement(E.a,{className:g.actionButton,variant:"contained",onClick:C},"Show"))):l.isHiddenPanel?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement("div",{className:"foldButtonClass"},r.a.createElement(E.a,{className:g.actionButton,variant:"contained",color:"secondary",onClick:m},"Fold")),b?r.a.createElement("div",{className:"callButtonClass"},r.a.createElement(E.a,{className:g.actionButton,variant:"contained",onClick:d},"Check")):r.a.createElement("div",{className:"callButtonClass"},r.a.createElement(E.a,{className:g.actionButton,variant:"contained",onClick:p},"Call"))):r.a.createElement("div",null),r.a.createElement("div",{className:e,onClick:s,style:{position:"absolute",zIndex:50,display:"flex",flexDirection:"row",justifyContent:"space-around"}},r.a.createElement("div",{style:{width:"30%",position:"relative"}},r.a.createElement("img",{src:c.image_url,className:A?"avatarImageOnTurn":"avatarImage",alt:"avatar"}),r.a.createElement("div",{className:"heroPanelTextArea"},r.a.createElement("div",{className:"heroNickname"},c.nickname),r.a.createElement("div",{className:"hero-player-stack"},c.betSize?c.stack-c.betSize:c.stack),A&&r.a.createElement(De.a,{variant:"determinate",value:c.remain_time_to_action/c.max_remain_time_to_action*100})),I&&a&&2===a.length&&1!==c.state&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"heroHoleCard1"},r.a.createElement(Ue,{rank:a[0].rank,suit:a[0].suit})),r.a.createElement("div",{className:"heroHoleCard2"},r.a.createElement(Ue,{rank:a[1].rank,suit:a[1].suit}))))),r.a.createElement(Je,{dialogOpen:u===c.id,player:c,openBuyInDialog:o}))}}]),a}(n.Component)),qe=Object(o.b)((function(e,t){var a=t.playerOnTurn,n=e.scenes.Tables.Room.GameTable;return{gameTable:n,checkable:!!!n.lastAggressiveSeatNo||n.lastAggressiveSeatNo===a.seat_no,inGame:!(!n.gameHandState||"finished"===n.gameHandState||"init"===n.gameHandState)}}),(function(e,t){var a=t.player,n=t.tableId,r=t.playerOnTurn;return{openBuyInDialog:function(){t.openBuyInDialog(a.seat_no,a.id)},openPlayerMenuDialog:function(){t.openPlayerMenuDialog(a.id)},dispatchBetAction:function(){e({type:"BET_ACTION",tableId:n,playerId:r.id,amount:r.betSize})},resetBetSize:function(){e({type:"RESET_BET_SIZE",tableId:n,playerId:r.id})},onFoldAction:function(){e({type:"FOLD_ACTION",tableId:n,playerId:r.id})},onCallAction:function(){e({type:"CALL_ACTION",tableId:n,playerId:r.id})},onCheckAction:function(){e({type:"CHECK_ACTION",tableId:n,playerId:r.id})},onMuckAction:function(){e({type:"MUCK_HAND_ACTION",tableId:n,playerId:r.id})},onShowAction:function(){e({type:"SHOW_HAND_ACTION",tableId:n,playerId:r.id})},dispatchProgressTimer:function(t){e({type:"PROGRESS_PLAYER_ACTION_TIMER",tableId:n,playerId:r.id,remainTimeToAction:r.remain_time_to_action-t/1e3})}}}))(Object(Ke.a)((function(e){return{actionButton:{textTransform:"none"}}}))(Ze)),Xe=(a(163),function(e){var t=e.player,a=e.buttonSeatNo,n=e.inGame,c=e.gameHandState,o=e.buttonDisable,i=void 0!==o&&o;return r.a.createElement("div",{className:"playerChipBetArea"},"finished"===c&&t.amount_diff&&r.a.createElement("div",null,r.a.createElement("span",{className:"".concat(t.amount_diff>0?"resultChipAmountPlus":"resultChipAmountMinus")},t.amount_diff>0&&r.a.createElement("span",null,"+"),t.amount_diff)),n&&t.seat_no===a&&!i&&r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},r.a.createElement(xe.a,{circle:!0,className:"buttonPlate"},"D")),n&&(t.bet_amount_in_state||t.betSize)&&r.a.createElement("div",null,t.betSize?r.a.createElement("span",{className:"betArea"},t.bet_amount_in_state||0," -> ",t.bet_amount_in_state+t.betSize):r.a.createElement("span",{className:"betArea"},t.bet_amount_in_state>0?t.bet_amount_in_state:"")))}),$e=a(218),et=function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(){return Object(Ee.a)(this,a),t.apply(this,arguments)}return Object(be.a)(a,[{key:"render",value:function(){var e=this.props,t=e.gameTable,a=e.onRequestClose,n=e.onSubmitTakeSeat,c=e.onChangeBuyInAmount,o=e.buyInAmount;return r.a.createElement(Ne.a,{open:t.isOpenedBuyInDialog||!1,onClose:a},r.a.createElement(Se.a,null,"\u30b7\u30fc\u30c8No. ",t.selectingSeatNo),r.a.createElement(we.a,null,r.a.createElement($e.a,null,"\u6301\u3061\u8fbc\u3080\u30c1\u30c3\u30d7\u91cf\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),r.a.createElement("div",null,r.a.createElement(J.a,{placeholder:"10000",onChange:c,value:o}))),r.a.createElement(Le.a,null,r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(E.a,{onClick:a},"\u30ad\u30e3\u30f3\u30bb\u30eb"),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){return n(o)}},"\u7740\u5e2d"))))}}]),a}(n.Component),tt=Object(o.b)((function(e,t){return{buyInAmount:e.scenes.Tables.Room.GameTable.buyInAmount}}),(function(e,t){var a=t.tableId,n=t.gameTable;return{onSubmitTakeSeat:function(t){var r=n.selectingSeatNo,c=n.buyInPlayerId;e({type:"PLAYER_TAKE_SEAT",tableId:a,playerId:c,seatNo:r,buyInAmount:t})},onRequestClose:function(){e({type:"CLOSE_BUY_IN_DIALOG"})},onChangeBuyInAmount:function(t){var a=t.target.value;e({type:"ON_CHANGE_BUY_IN_AMOUNT",amount:a})}}}))(et),at=(a(164),function(e){var t=e.gameTable;return r.a.createElement("div",{style:{position:"relative",width:"100%",background:"gray"}},r.a.createElement("div",{style:{position:"absolute",left:"calc(50% - 72px)",transform:"translate(-50%, 0%)"}},t.boardCards&&t.boardCards[0]&&t.reachedRounds.flop?r.a.createElement(Ue,{rank:t.boardCards[0][0],suit:t.boardCards[0][1]}):r.a.createElement(Ue,{invisible:!0})),r.a.createElement("div",{style:{position:"absolute",left:"calc(50% - 36px)",transform:"translate(-50%, 0%)"}},t.boardCards&&t.boardCards[1]&&t.reachedRounds.flop?r.a.createElement(Ue,{rank:t.boardCards[1][0],suit:t.boardCards[1][1]}):r.a.createElement(Ue,{invisible:!0})),r.a.createElement("div",{style:{position:"absolute",left:"50%",transform:"translate(-50%, 0%)"}},t.boardCards&&t.boardCards[2]&&t.reachedRounds.flop?r.a.createElement(Ue,{rank:t.boardCards[2][0],suit:t.boardCards[2][1]}):r.a.createElement(Ue,{invisible:!0})),r.a.createElement("div",{style:{position:"absolute",left:"calc(50% + 36px)",transform:"translate(-50%, 0%)"}},t.boardCards&&t.boardCards[3]&&t.reachedRounds.turn?r.a.createElement(Ue,{rank:t.boardCards[3][0],suit:t.boardCards[3][1]}):r.a.createElement(Ue,{invisible:!0})),r.a.createElement("div",{style:{position:"absolute",left:"calc(50% + 72px)",transform:"translate(-50%, 0%)"}},t.boardCards&&t.boardCards[4]&&t.reachedRounds.river?r.a.createElement(Ue,{rank:t.boardCards[4][0],suit:t.boardCards[4][1]}):r.a.createElement(Ue,{invisible:!0})))});var nt=function(e){var t=e.count,a=Object(n.useState)(t),c=Object(V.a)(a,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){var e=null;return o>0&&(e=setTimeout((function(){i(o-1)}),1e3)),function(){clearTimeout(e)}}),[o]),o<=0?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(d.a,{component:"span",variant:"caption",style:{display:"inline-block"}},"\u6b21\u306e\u30cf\u30f3\u30c9\u958b\u59cb\u307e\u3067\u3042\u3068",r.a.createElement(d.a,{component:"span",variant:"body1",style:{display:"inline-block"}},o),"\u79d2"))},rt=function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(){return Object(Ee.a)(this,a),t.apply(this,arguments)}return Object(be.a)(a,[{key:"render",value:function(){for(var e=this.props,t=e.tableId,a=e.openBuyInDialog,n=e.openPlayerMenuDialog,c=e.gameTable,o=e.isSeated,i=e.playerSession,l=e.players,s=e.inGame,u=e.onGameStart,m=e.isOpenGameStartCountdown,p=e.timeToStart,b=l.find((function(e){return e.nickname===i.nickname})),f=[],h=function(e){var t=l.find((function(t){return t.seat_no===e+1}));t?f.push(t):f.push({seat_no:e+1})},v=0;v<9;v++)h(v);b&&(f=f.slice(b.seat_no-1,10).concat(f.slice(0,b.seat_no-1)));var _,O=function(e){var r=f[e].id;return{isOpenedBuyInDialog:c.isOpenedBuyInDialog,openingPlayerMenuDialogPlayerId:c.openingPlayerMenuDialogPlayerId,isSeated:o,inGame:s,player:f[e],currentSeatNo:c.currentSeatNo,openBuyInDialog:a,openPlayerMenuDialog:n,tableId:t,cards:c.dealtCards[r],buttonSeatNo:c.buttonSeatNo,gameHandState:c.gameHandState}},y=l.find((function(e){return e.seat_no===c.currentSeatNo}));return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(tt,{tableId:t,gameTable:c,playerSession:i}),r.a.createElement("div",{className:"flex-container"},r.a.createElement("div",{className:"game-table"},r.a.createElement("div",{className:"topPlayerContainer"},r.a.createElement("div",{className:"topPlayerArea"},r.a.createElement("div",{className:"topPlayerPanel"},r.a.createElement("div",{style:{height:"15vw",width:"15vw",margin:"auto"}},r.a.createElement(Qe,Object.assign({},O(4),{topLeftSideStyle:!0}))))),r.a.createElement("div",{className:"topPlayerArea"},r.a.createElement("div",{className:"topPlayerPanel"},r.a.createElement("div",{style:{height:"15vw",width:"15vw",margin:"auto"}},r.a.createElement(Qe,Object.assign({},O(5),{topRightSideStyle:!0})))))),r.a.createElement("div",{className:"middlePlayerContainer"},r.a.createElement("div",{className:"flex-column-container",style:{width:"25vw",maxWidth:"200px",height:"100%"}},r.a.createElement("div",{style:{height:"16vh",width:"15vw"}},r.a.createElement(Qe,Object.assign({},O(3),{leftSideStyle:!0}))),r.a.createElement("div",{style:{height:"16vh",width:"15vw"}},r.a.createElement(Qe,Object.assign({},O(2),{leftSideStyle:!0}))),r.a.createElement("div",{style:{height:"16vh",width:"15vw"}},r.a.createElement(Qe,Object.assign({},O(1),{leftSideStyle:!0})))),r.a.createElement("div",{className:"flex-center-container",style:{width:"45vw",position:"relative"}},!s&&l.length<2?r.a.createElement("div",null,o?"\u4ed6\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u3092\u5f85\u3063\u3066\u3044\u307e\u3059\u30fb\u30fb\u30fb":"\u30b7\u30fc\u30c8\u3092\u30bf\u30c3\u30c1\u3057\u3066\u304f\u3060\u3055\u3044"):r.a.createElement("div",{className:"currentStateArea"},r.a.createElement("div",{style:{position:"absolute",top:"0",borderRadius:"0.5em",height:"30%",width:"100%"}},!s&&b&&r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:u,style:{textTransform:"none"}},"\u958b\u59cb"),m&&b&&r.a.createElement(nt,{count:p}),"init"!==c.round&&r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",height:"100%"}},r.a.createElement("div",{style:{background:"rgba(0, 0, 0, 0.7)",borderRadius:"4px",padding:"4px",marginLeft:"32px",marginRight:"32px"}},r.a.createElement(d.a,{style:{color:"white"}},c.pot)))),"init"!==c.round?r.a.createElement(at,{gameTable:c}):r.a.createElement("div",null)),r.a.createElement("div",{className:"heroDealerButtonArea"},r.a.createElement("div",{className:"heroDealerButtonWrapper"},s&&b&&b.seat_no===c.buttonSeatNo?r.a.createElement(We,null):r.a.createElement("div",null)))),r.a.createElement("div",{className:"flex-column-container",style:{width:"25vw",maxWidth:"200px",height:"100%"}},r.a.createElement("div",{style:{height:"16vh",width:"75%",marginLeft:"auto"}},r.a.createElement(Qe,Object.assign({},O(6),{rightSideStyle:!0}))),r.a.createElement("div",{style:{height:"16vh",width:"75%",marginLeft:"auto"}},r.a.createElement(Qe,Object.assign({},O(7),{rightSideStyle:!0}))),r.a.createElement("div",{style:{height:"16vh",width:"75%",marginLeft:"auto"}},r.a.createElement(Qe,Object.assign({},O(8),{rightSideStyle:!0}))))),r.a.createElement("div",{className:"heroPlayerContainer"},r.a.createElement("div",{className:"test"},r.a.createElement("div",{style:{height:"20%"}},r.a.createElement(Xe,Object.assign({},(_=0,{inGame:s,buttonSeatNo:c.buttonSeatNo,player:f[_],gameHandState:c.gameHandState}),{buttonDisable:!0}))),r.a.createElement("div",{style:{height:"80%",width:"100%",textAlign:"center"}},r.a.createElement(qe,Object.assign({},O(0),{currentPlayer:b,tableId:t,playerOnTurn:y}))))))))}}]),a}(n.Component),ct=Object(o.b)((function(e){var t=e.scenes.Tables.Room.GameTable;return{isOpenGameStartCountdown:t.isOpenGameStartCountdown,timeToStart:t.timeToStart}}),(function(e,t){var a=t.tableId;return{openBuyInDialog:function(t,n){e({type:"OPEN_BUY_IN_DIALOG",tableId:a,seatNo:t,playerId:n})},openPlayerMenuDialog:function(t){e({type:"OPEN_PLAYER_MENU_DIALOG",tableId:a,playerId:t})}}}))(rt);var ot=Object(Ke.a)((function(e){return{container:{position:"relative",height:"100vh",width:"100vw"},progress:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}}))((function(e){var t=e.classes;return r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.progress},r.a.createElement(u.a,{size:80})))})),it=a(206),lt=a(219),st=a(220),ut=(a(165),function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(){return Object(Ee.a)(this,a),t.apply(this,arguments)}return Object(be.a)(a,[{key:"render",value:function(){var e=this.props.player,t=e.amount_diff>0?"show-result-dialog-amount-diff-plus":"show-result-dialog-amount-diff-minus";return r.a.createElement(lt.a,{dense:!0},r.a.createElement(B.a,{src:e.image_url}),r.a.createElement(st.a,null,r.a.createElement("div",{className:"show-result-dialog-user-nickname"},e.nickname),r.a.createElement("div",null,r.a.createElement("span",{className:"show-result-dialog-stack-before"},e.stack_before),"\u2192",r.a.createElement("span",{className:"show-result-dialog-stack-after"},e.stack_after)),r.a.createElement("div",null,r.a.createElement("span",{className:t},"(",e.amount_diff>0?"+":"",e.amount_diff,")"))))}}]),a}(n.Component)),dt=Object(o.b)((function(e,t){return{}}),(function(e,t){return{}}))(ut),mt=function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(){return Object(Ee.a)(this,a),t.apply(this,arguments)}return Object(be.a)(a,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.players,n=e.onRequestClose,c=e.gameTable;return r.a.createElement("div",null,r.a.createElement(Ne.a,{open:t,onClose:n},r.a.createElement(Se.a,null,"\u30cf\u30f3\u30c9",c.gameHandCount,"\u306e\u7d50\u679c"),r.a.createElement(it.a,null,a.map((function(e){return r.a.createElement(dt,{key:e.id,player:e})})))))}}]),a}(n.Component),pt=Object(o.b)((function(e,t){var a=e.scenes.Tables.Room;return{open:a.ShowResultDialog.open,players:a.ShowResultDialog.players}}),(function(e,t){return{onRequestClose:function(){e({type:"SHOW_RESULT_DIALOG_CLOSE"})}}}))(mt),Et=a(221),bt=function(e){return{container:{position:"absolute",top:"0px",right:"0px",background:"rgba(0, 0, 0, 0.7)",padding:e.spacing(.5),zIndex:e.zIndex.appBar},handCount:{color:e.palette.common.white,display:"inline-block"},round:{color:e.palette.common.white,display:"inline-block",marginRight:e.spacing(1)}}},ft=Object(Et.a)(bt);var ht=function(e){var t=e.handCount,a=e.round,n=ft();return r.a.createElement("div",{className:n.container},r.a.createElement(d.a,{variant:"caption",className:n.round},function(e){switch(e){case"preflop":return"\u30d7\u30ea\u30d5\u30ed\u30c3\u30d7";case"flop":return"\u30d5\u30ed\u30c3\u30d7";case"turn":return"\u30bf\u30fc\u30f3";case"river":return"\u30ea\u30d0\u30fc";case"finished":return"\u7d42\u4e86";default:return e}}(a)),r.a.createElement(d.a,{variant:"caption",className:n.handCount},"\u7b2c",t,"\u30b2\u30fc\u30e0"))},vt=function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(){return Object(Ee.a)(this,a),t.apply(this,arguments)}return Object(be.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onActionCableConnected,a=e.onActionCableDisconnected,n=e.match,r=e.onGameHandFinishedReceived,c=e.onGameHandActionReceived,o=e.onPlayerActionReceived,i=e.onDealtCardsReceived,l=e.onShowResultDialogReceived;this.App={};var s=localStorage.getItem("playerSession.jwt");this.App.cable=Re.a.createConsumer("".concat(O,"/cable?jwt=").concat(s));var u=n.params.id;this.App.ChipChannel=this.App.cable.subscriptions.create({channel:"ChipChannel",tableId:u},{connected:function(){console.debug("Chip Channel connected"),t()},disconnected:function(){console.debug("Chip Channel disconnected"),a()},received:function(e){console.debug("Chip Channel received",e),"player_action"===e.type?o(e):"game_hand"===e.type?c(e):"game_hand_finished"===e.type?r(e):"show_result_dialog"===e.type&&l(e)},rejected:function(e){console.debug("Chip Channel rejected",e)}}),this.App.cable_for_dealt_card=Re.a.createConsumer("".concat(O,"/cable?jwt=").concat(s)),this.App.DealtCardChannel=this.App.cable_for_dealt_card.subscriptions.create({channel:"DealtCardChannel",tableId:u},{connected:function(){console.debug("DealtCardChannel connected")},disconnected:function(){console.debug("DealtCardChannel disconnected")},received:function(e){console.debug("DealtCardChannel received: ",e),i(e)},rejected:function(e){console.debug("DealtCardChannel rejected",e)}}),window.addEventListener("resize",(function(){var e=.01*window.innerHeight;window.document.documentElement.style.setProperty("--vh","".concat(e,"px"))}));var d=.01*window.innerHeight;window.document.documentElement.style.setProperty("--vh","".concat(d,"px"))}},{key:"componentWillUnmount",value:function(){this.App.ChipChannel.unsubscribe(),this.App.DealtCardChannel.unsubscribe()}},{key:"render",value:function(){var e,t=this.props,a=t.gameTable,n=t.playerSession,c=t.onGameStart,o=t.players,i=t.tableId,l=t.tableName,d=t.onBetAction,m=!!o.find((function(e){return e.id===n.playerId})),p=!(!(e=a.gameHandState)||"finished"===e||"init"===e),E=o.find((function(e){return e.id===n.playerId})),b=o.find((function(e){return e.seat_no===a.currentSeatNo}));return a.isReady?r.a.createElement("div",{id:"baseWrapper",style:{background:"#003300"}},r.a.createElement(Ne.a,{open:a.reconnectingActionCable},r.a.createElement(Se.a,null,"\u518d\u63a5\u7d9a\u4e2d\u30fb\u30fb\u30fb"),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(u.a,null))),r.a.createElement(pt,{tableId:i,onGameStart:c,gameTable:a}),(p||o.length>1)&&"init"!==a.round&&r.a.createElement(ht,{handCount:a.gameHandCount,round:a.round}),r.a.createElement(s.a,{display:"flex"},r.a.createElement("div",{style:{height:"100%",width:"70%"}},r.a.createElement(ct,{tableName:l,tableId:i,onGameStart:c,players:o,playerSession:n,isSeated:m,inGame:p,gameTable:a,onBetAction:d})),r.a.createElement("div",{style:{height:"100vh",width:"30%",backgroundColor:"red"}},r.a.createElement(ke,null))),r.a.createElement("div",{style:{height:"15vh",width:"100%",position:"absolute",bottom:0,zIndex:1e3}},E&&p&&!a.showOrMuck&&a.currentSeatNo===E.seat_no?E.isFetching?r.a.createElement(Te,null):E.isHiddenPanel?r.a.createElement("div",null):r.a.createElement(Ie,{key:E.id,playerOnTurn:b,operatingPlayer:E}):r.a.createElement("div",null))):r.a.createElement(ot,null)}}]),a}(n.Component),_t=Object(o.b)((function(e,t){var a=e.scenes.Tables.Room,n=t.match.params.id;return{tableId:n,tableName:n,players:a.Players,playerSession:e.data.playerSession,gameTable:a.GameTable,onBetAction:function(e,t){return function(e,t,a){return{type:"BET_ACTION",tableId:e,playerId:t,amount:a}}(n,e,t)}}}),(function(e,t){var a=t.match.params.id;return{onGameHandFinishedReceived:function(t){e({type:"GAME_HAND_FINISHED_RECEIVED"})},onGameHandActionReceived:function(t){var a,n;e((a=t.pot,n=t.players,{type:"GAME_HAND_ACTION_RECEIVED",pot:a,players:n}))},onPlayerActionReceived:function(t){e(function(e){var t=e.pot,a=e.game_hand_state,n=e.players,r=e.current_seat_no,c=e.button_seat_no,o=e.last_aggressive_seat_no,i=e.undoable,l=e.game_hand_count,s=e.board_cards,u=e.show_or_muck,d=e.reached_rounds,m=e.reaching_rounds;return{type:"BEFORE_PLAYER_ACTION_RECEIVED",pot:t,gameHandState:a,round:a,currentSeatNo:r,players:n,buttonSeatNo:c,lastAggressiveSeatNo:o,undoable:i,gameHandCount:l,boardCards:s,showOrMuck:u,reachedRounds:d,lastAction:e.last_action,reachingRounds:m,justActioned:e.just_actioned,tableId:e.table_id}}(t))},onDealtCardsReceived:function(t){e(function(e){return{type:"DEALT_CARD_RECEIVED",cards:e.cards,playerId:e.player_id}}(t))},onShowResultDialogReceived:function(t){e(function(e){return{type:"SHOW_RESULT_DIALOG_RECEIVED",players:e.players}}(t))},onGameStart:function(){e(function(e){return{type:"GAME_START_BUTTON_CLICKED",tableId:e}}(a))},onActionCableConnected:function(){e({type:"ACTION_CABLE_CONNECTED"})},onActionCableDisconnected:function(){e({type:"ACTION_CABLE_DISCONNECTED"})}}}))(vt);var Ot=function(){return Object(o.d)((function(e){return e.data.playerSession})).isReady?r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(p,{exact:!0,path:"/",component:P}),r.a.createElement(l.b,{exact:!0,path:"/login",component:ie}),r.a.createElement(p,{exact:!0,path:"/newTable",component:pe}),r.a.createElement(p,{exact:!0,path:"/tables",component:Ae}),r.a.createElement(p,{exact:!0,path:"/tables/:id",component:_t}))):r.a.createElement(m,null)};a(166);var yt,Ct=a(49),gt=a(115),At={},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLAYER_SUCCEEDED":return Object.assign({},e,{isReady:!0,isLoggedIn:!0,nickname:t.nickname,playerId:t.playerId,imageUrl:t.imageUrl});case"FETCH_PLAYER_FAILED":return Object.assign({},e,{isReady:!0});case"LOGIN_FORM_ON_SUBMIT":return Object.assign({},e,{isFetching:!0});case"LOGIN_FORM_ON_SUCCESS":return Object.assign({},e,{isFetching:!1,isLoggedIn:!0,nickname:t.nickname,playerId:t.playerId});default:return e}},Tt={isTableCreated:!1},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_TABLE_FORM":return Tt;case"CREATE_TABLE_FORM_ON_SUBMIT":return Object.assign({},e,{isFetching:!0});case"CREATE_TABLE_FORM_ON_SUCCESS":return Object.assign({},e,{isFetching:!1,tableId:t.tableId,isTableCreated:!0});case"CREATE_TABLE_FORM_ON_FAILURE":return Object.assign({},e,{isFetching:!1});case"LOADING_TABLES_DATA":return Object.assign({},e,{isPrepared:!1});case"LOADING_TABLES_DATA_ON_SUCCESS":return Object.assign({},e,{isPrepared:!0,tables:t.tables});default:return e}},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{playerSession:It(e.playerSession,t),tables:Nt(e.tables,t)}},jt={openingPlayerMenuDialogPlayerId:null,isReady:!1,pot:0,reconnectingActionCable:!1,dealtCards:[],buyInAmount:"",isOpenGameStartCountdown:!1,timeToStart:0},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETUP_GAME_START_TIMER":return Object(q.a)({},e,{isOpenGameStartCountdown:!0,timeToStart:t.seconds});case"GAME_START_COMPLETED":return Object(q.a)({},e,{isOpenGameStartCountdown:!1});case"ON_CHANGE_BUY_IN_AMOUNT":return Object.assign({},e,{buyInAmount:t.amount});case"DEALT_CARD_RECEIVED":var a=Object.assign({},e.dealtCards);return a[t.playerId]=t.cards,Object.assign({},e,{dealtCards:a,isOpenGameStartCountdown:!1});case"OPEN_BOARD_CARD_BY_ROUND":return Object.assign({},e,{reachedRounds:t.reachedRounds,boardCards:t.boardCards});case"PLAYER_ACTION_RECEIVED":return Object.assign({},e,{isReady:!0,pot:t.pot,gameHandState:t.gameHandState,round:t.round,currentSeatNo:t.currentSeatNo,buttonSeatNo:t.buttonSeatNo,lastAggressiveSeatNo:t.lastAggressiveSeatNo,undoable:t.undoable,gameHandCount:t.gameHandCount,boardCards:t.boardCards,showOrMuck:t.showOrMuck,reachedRounds:t.reachedRounds});case"OPEN_PLAYER_MENU_DIALOG":return Object.assign({},e,{openingPlayerMenuDialogPlayerId:t.playerId});case"CLOSE_PLAYER_MENU_DIALOG":return Object.assign({},e,{openingPlayerMenuDialogPlayerId:null});case"OPEN_BUY_IN_DIALOG":return Object.assign({},e,{isOpenedBuyInDialog:!0,selectingSeatNo:t.seatNo,buyInPlayerId:t.playerId});case"CLOSE_BUY_IN_DIALOG":return Object.assign({},e,{isOpenedBuyInDialog:!1,selectingSeatNo:null,buyInAmount:""});case"PLAYER_TAKE_SEAT":return Object.assign({},e,{buyInAmount:""});case"PLAYER_ACTION_TAKE_SEAT_COMPLETED":case"PLAYER_ACTION_TAKE_SEAT_FAILED":return Object.assign({},e,{isOpenedBuyInDialog:!1,selectingSeatNo:null});case"ACTION_CABLE_CONNECTED":return Object.assign({},e,{reconnectingActionCable:!1});case"ACTION_CABLE_DISCONNECTED":return Object.assign({},e,{reconnectingActionCable:!0});default:return e}},kt={betSize:0},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0,a=e;if(a.id!==t.playerId)return a;var n=0;switch(t.type){case"OTHER_PLAYER_ACTION":return Object.assign({},a,{actionType:t.actionType});case"PROGRESS_PLAYER_ACTION_TIMER":return Object.assign({},a,{remain_time_to_action:t.remainTimeToAction});case"CHANGE_BET_AMOUNT":return Object.assign({},a,{betSize:t.amount});case"SET_BET_SIZE":return n=t.amount,Object.assign({},a,{betSize:n});case"RESET_BET_SIZE":return Object.assign({},a,{betSize:0});case"INCREMENT_BET_SIZE":return n=(a.betSize||0)+t.amount,t.playerStack<n&&(n=t.playerStack),Object.assign({},a,{betSize:n});case"DECREMENT_BET_SIZE":return(n=(a.betSize||0)-t.amount)<0&&(n=0),Object.assign({},a,{betSize:n});case"CHECK_ACTION":return Object.assign({},a,{isFetching:!0,isHiddenPanel:!0});case"CHECK_ACTION_COMPLETED":case"CHECK_ACTION_FAILED":return Object.assign({},a,{isFetching:!1});case"BET_ACTION":return Object.assign({},a,{isFetching:!0,isHiddenPanel:!0});case"BET_ACTION_COMPLETED":case"BET_ACTION_FAILED":return Object.assign({},a,{isFetching:!1});case"CALL_ACTION":return Object.assign({},a,{isFetching:!0,isHiddenPanel:!0});case"CALL_ACTION_COMPLETED":case"CALL_ACTION_FAILED":return Object.assign({},a,{isFetching:!1});case"FOLD_ACTION":return Object.assign({},a,{isFetching:!0,isHiddenPanel:!0});case"FOLD_ACTION_COMPLETED":case"FOLD_ACTION_FAILED":return Object.assign({},a,{isFetching:!1});default:return a}},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OTHER_PLAYER_ACTION":case"PROGRESS_PLAYER_ACTION_TIMER":return e.map((function(e){return xt(e,t)}));case"PLAYER_ACTION_RECEIVED":return t.players;case"SHOW_ACTIVE_PLAYER_CARDS":return e.map((function(e){var a=t.players.find((function(t){return t.id===e.id}));return Object(q.a)({},e,{cards:a.cards,hand_show:a.hand_show,state:a.state})}));case"CHANGE_BET_AMOUNT":case"SET_BET_SIZE":case"RESET_BET_SIZE":case"INCREMENT_BET_SIZE":case"DECREMENT_BET_SIZE":case"CHECK_ACTION":case"CHECK_ACTION_COMPLETED":case"CHECK_ACTION_FAILED":case"BET_ACTION":case"BET_ACTION_COMPLETED":case"BET_ACTION_FAILED":case"CALL_ACTION":case"CALL_ACTION_COMPLETED":case"CALL_ACTION_FAILED":case"FOLD_ACTION":case"FOLD_ACTION_COMPLETED":case"FOLD_ACTION_FAILED":return e.map((function(e){return xt(e,t)}));default:return e}},wt={open:!1,players:[]},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_RESULT_DIALOG_CLOSE":return Object.assign({},e,{open:!1});case"SHOW_RESULT_DIALOG_RECEIVED":return e;case"SHOW_RESULT_DIALOG_FINISHED_RECEIVED":return wt;case"PLAYER_ACTION_RECEIVED":return Object.assign({},e,{open:!1});default:return e}},Pt={},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;return{GameTable:Rt(e.GameTable,t),Players:Dt(e.Players,t),ShowResultDialog:Lt(e.ShowResultDialog,t)}},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{Room:Bt(e.Room,t)}},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{Tables:Mt(e.Tables,t)}},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{data:St(e.data,t),scenes:Ht(e.scenes,t)}},Ft=a(52),Ut=a(116),Yt=a(5),Kt=h.a.mark(sa),Wt=h.a.mark(ua),zt=h.a.mark(da),Qt=h.a.mark(ma),Vt=h.a.mark(pa),Jt=h.a.mark(Ea),Zt=h.a.mark(ba),qt=h.a.mark(fa),Xt=h.a.mark(ha),$t=h.a.mark(va),ea=h.a.mark(_a),ta=h.a.mark(Oa),aa=h.a.mark(Ca),na=h.a.mark(ga),ra=h.a.mark(Ia),ca=h.a.mark(Ta),oa=h.a.mark(Na),ia=h.a.mark(Da),la=h.a.mark(Ya);function sa(){var e,t,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Yt.b)(x);case 2:return e=n.sent,t=e.data,a=t.tables,n.next=7,Object(Yt.d)({type:"LOADING_TABLES_DATA_ON_SUCCESS",tables:a});case 7:case"end":return n.stop()}}),Kt)}function ua(e){var t,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tableId,a=e.playerId,n.prev=1,n.next=4,Object(Yt.b)(N,"PLAYER_ACTION_CHECK",t,a);case 4:return n.next=6,Object(Yt.d)({type:"CHECK_ACTION_COMPLETED",tableId:t,playerId:a});case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),console.log(n.t0),n.next=13,Object(Yt.d)({type:"CHECK_ACTION_FAILED",tableId:t,playerId:a});case 13:case"end":return n.stop()}}),Wt,null,[[1,8]])}function da(e){var t,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tableId,a=e.playerId,n.prev=1,n.next=4,Object(Yt.b)(N,"PLAYER_ACTION_MUCK_HAND",t,a);case 4:return n.next=6,Object(Yt.d)({type:"MUCK_HAND_ACTION_COMPLETED",tableId:t,playerId:a});case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),console.log(n.t0),n.next=13,Object(Yt.d)({type:"MUCK_HAND_ACTION_FAILED",tableId:t,playerId:a});case 13:case"end":return n.stop()}}),zt,null,[[1,8]])}function ma(e){var t,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tableId,a=e.playerId,n.prev=1,n.next=4,Object(Yt.b)(N,"PLAYER_ACTION_SHOW_HAND",t,a);case 4:return n.next=6,Object(Yt.d)({type:"SHOW_HAND_ACTION_COMPLETED",tableId:t,playerId:a});case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),console.log(n.t0),n.next=13,Object(Yt.d)({type:"SHOW_HAND_ACTION_FAILED",tableId:t,playerId:a});case 13:case"end":return n.stop()}}),Qt,null,[[1,8]])}function pa(e){var t,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tableId,a=e.playerId,n.prev=1,n.next=4,Object(Yt.b)(N,"PLAYER_ACTION_FOLD",t,a);case 4:return n.next=6,Object(Yt.d)({type:"FOLD_ACTION_COMPLETED",tableId:t,playerId:a});case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),console.log(n.t0),n.next=13,Object(Yt.d)({type:"FOLD_ACTION_FAILED",tableId:t,playerId:a,error:n.t0});case 13:case"end":return n.stop()}}),Vt,null,[[1,8]])}function Ea(e){var t,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tableId,a=e.playerId,n.prev=1,n.next=4,Object(Yt.b)(N,"PLAYER_ACTION_CALL",t,a);case 4:return n.next=6,Object(Yt.d)({type:"CALL_ACTION_COMPLETED",tableId:t,playerId:a});case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),console.log(n.t0),n.next=13,Object(Yt.d)({type:"CALL_ACTION_FAILED",tableId:t,playerId:a,error:n.t0});case 13:case"end":return n.stop()}}),Jt,null,[[1,8]])}function ba(e){var t,a,n,r,c;return h.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.tableId,a=e.playerId,n=e.amount,o.prev=1,o.next=4,Object(Yt.b)(N,"PLAYER_ACTION_BET_CHIPS",t,a,n);case 4:return r=o.sent,c=r.data.pot,o.next=8,Object(Yt.d)({type:"BET_ACTION_COMPLETED",tableId:t,playerId:a,amount:n,pot:c});case 8:o.next=15;break;case 10:return o.prev=10,o.t0=o.catch(1),console.log(o.t0),o.next=15,Object(Yt.d)({type:"BET_ACTION_FAILED",tableId:t,playerId:a,error:o.t0});case 15:case"end":return o.stop()}}),Zt,null,[[1,10]])}function fa(e){var t,a,n,r,c,o;return h.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.tableId,a=e.playerId,i.prev=1,i.next=4,Object(Yt.b)(N,"GAME_HAND_TAKE_POT",t,a);case 4:return n=i.sent,r=Object($.camelizeKeys)(n.data),c=r.pot,o=r.playerStack,i.next=8,Object(Yt.d)({type:"TAKE_POT_ACTION_COMPLETED",tableId:t,playerId:a,pot:c,playerStack:o});case 8:i.next=15;break;case 10:return i.prev=10,i.t0=i.catch(1),console.log(i.t0),i.next=15,Object(Yt.d)({type:"TAKE_POT_ACTION_FAILED",tableId:t,playerId:a,error:i.t0});case 15:case"end":return i.stop()}}),qt,null,[[1,10]])}function ha(e){var t,a,n,r,c,o,i;return h.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.amount,a=e.tableId,n=e.playerId,r=e.seatNo,c=e.buyInAmount,l.prev=1,l.next=4,Object(Yt.b)(I,a,n,r,c);case 4:return o=l.sent,i=o.data,l.next=8,Object(Yt.d)({type:"PLAYER_ACTION_TAKE_SEAT_COMPLETED",tableId:a,playerId:n,amount:t,pot:i.pot});case 8:l.next=15;break;case 10:return l.prev=10,l.t0=l.catch(1),console.log(l.t0),l.next=15,Object(Yt.d)({type:"PLAYER_ACTION_TAKE_SEAT_FAILED",tableId:a,playerId:n,error:l.t0});case 15:case"end":return l.stop()}}),Xt,null,[[1,10]])}function va(e){var t,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tableId,a=e.seatNo,n.prev=1,n.next=4,Object(Yt.b)(T,t,a);case 4:return n.next=6,Object(Yt.d)({type:"ON_SUCCESS_ADD_NPC_PLAYER"});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(Yt.d)({type:"ON_FAILURE_ADD_NPC_PLAYER"});case 12:case"end":return n.stop()}}),$t,null,[[1,8]])}function _a(){var e,t,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Yt.b)(k);case 3:return e=n.sent,t=e.data,a=Object($.camelizeKeys)(t),n.next=8,Object(Yt.d)(Object(q.a)({type:"FETCH_PLAYER_SUCCEEDED"},a));case 8:n.next=15;break;case 10:return n.prev=10,n.t0=n.catch(0),sessionStorage.setItem("redirectTo",window.location.href),n.next=15,Object(Yt.d)({type:"FETCH_PLAYER_FAILED"});case 15:case"end":return n.stop()}}),ea,null,[[0,10]])}function Oa(e){var t;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.tableId,a.prev=1,a.next=4,Object(Yt.b)(S,t);case 4:return a.next=6,Object(Yt.d)({type:"GAME_START_COMPLETED",tableId:t});case 6:a.next=13;break;case 8:return a.prev=8,a.t0=a.catch(1),console.log(a.t0),a.next=13,Object(Yt.d)({type:"GAME_START_FAILED",tableId:t});case 13:case"end":return a.stop()}}),ta,null,[[1,8]])}function ya(e){return Object(Ft.c)((function(t){var a=setInterval((function(){t(Ft.a)}),1e3*e);return function(){clearInterval(a)}}))}function Ca(e,t,a){var n;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Yt.b)(ya,a);case 3:return n=r.sent,r.next=6,Object(Yt.g)(n);case 6:return r.prev=6,r.next=9,Object(Yt.d)({type:"OPEN_BOARD_CARD_BY_ROUND",reachedRounds:e,boardCards:t});case 9:return r.finish(6);case 10:case"end":return r.stop()}}),aa,null,[[0,,6,10]])}function ga(e){var t,a,n,r,c;return h.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e.justActioned&&e.reachingRounds.length>0)){o.next=23;break}return o.next=3,Object(Yt.d)({type:"SHOW_ACTIVE_PLAYER_CARDS",players:e.players});case 3:if(t={},e.reachingRounds.includes("flop")){o.next=8;break}return t={flop:e.reachingRounds.includes("turn")||e.reachingRounds.includes("river"),turn:!e.reachingRounds.includes("turn")&&e.reachingRounds.includes("river")},o.next=8,Object(Yt.b)(Ca,t,e.boardCards,0);case 8:return o.next=10,Object(Yt.a)(e.reachingRounds.map((function(a,n){return(t=Object.assign({},t))[a]=!0,Object(Yt.b)(Ca,t,e.boardCards,2*(n+1))})));case 10:return o.prev=10,o.next=13,Object(Yt.b)(ya,2);case 13:return a=o.sent,o.next=16,Object(Yt.g)(a);case 16:return o.prev=16,o.next=19,Object(Yt.d)(Object.assign({},e,{type:"PLAYER_ACTION_RECEIVED"}));case 19:return o.next=21,Object(Yt.d)({type:"SETUP_GAME_START_TIMER",tableId:e.tableId,seconds:10});case 21:return o.abrupt("return");case 23:if(!e.lastAction||"blind"===e.lastAction.action_type||"taken"===e.lastAction.action_type){o.next=42;break}return o.next=26,Object(Yt.d)({type:"OTHER_PLAYER_ACTION",actionType:e.lastAction.action_type,playerId:e.lastAction.player_id});case 26:return o.prev=26,o.next=29,Object(Yt.b)(ya,.8);case 29:return n=o.sent,o.next=32,Object(Yt.g)(n);case 32:return o.prev=32,r=Object.assign({},e,{type:"PLAYER_ACTION_RECEIVED"}),o.next=36,Object(Yt.d)(r);case 36:if("finished"!==e.gameHandState){o.next=39;break}return o.next=39,Object(Yt.d)({type:"SETUP_GAME_START_TIMER",tableId:e.tableId,seconds:10});case 39:return o.finish(32);case 40:o.next=48;break;case 42:return c=Object.assign({},e,{type:"PLAYER_ACTION_RECEIVED"}),o.next=45,Object(Yt.d)(c);case 45:if("finished"!==e.gameHandState){o.next=48;break}return o.next=48,Object(Yt.d)({type:"SETUP_GAME_START_TIMER",tableId:e.tableId,seconds:10});case 48:case"end":return o.stop()}}),na,null,[[10,,16,23],[26,,32,40]])}function Aa(e){return Object(Ft.c)((function(t){var a=setInterval((function(){(e-=1e3)<=0&&t(Ft.a)}),1e3);return function(){clearInterval(a)}}))}function Ia(e){var t,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=1e3*e.seconds,n.next=3,Object(Yt.b)(Aa,t);case 3:return a=n.sent,n.prev=4,n.next=7,Object(Yt.g)(a);case 7:return n.prev=7,n.next=10,Object(Yt.c)();case 10:if(!n.sent){n.next=14;break}a.close(),n.next=16;break;case 14:return n.next=16,Object(Yt.d)({type:"GAME_START_BUTTON_CLICKED",tableId:e.tableId});case 16:return n.finish(7);case 17:case"end":return n.stop()}}),ra,null,[[4,,7,17]])}function Ta(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Yt.e)([Object(Yt.b)(Ia,e),Object(Yt.g)("GAME_START_BUTTON_CLICKED"),Object(Yt.g)("PLAYER_ACTION_RECEIVED")]);case 2:case"end":return t.stop()}}),ca)}function Na(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=sessionStorage.getItem("redirectTo"),sessionStorage.removeItem("redirectTo"),!e){t.next=6;break}window.location=e,t.next=8;break;case 6:return t.next=8,Object(Yt.d)({type:"FETCH_PLAYER"});case 8:case"end":return t.stop()}}),oa)}function Sa(){navigator.mediaDevices.getUserMedia({audio:!0,video:{width:"320",height:"240"}}).then((function(e){yt=e,document.getElementById("local-video").srcObject=e})).catch((function(e){return console.log("Error!: ",e)}))}var ja,Ra,ka=localStorage.getItem("playerSession.jwt"),xa=Re.a.createConsumer("".concat(O,"/cable?jwt=").concat(ka));function Da(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Yt.f)((function(e){return e.data.playerSession.playerId}));case 2:return Ra=e.sent,Ra="".concat(Ra),e.next=6,xa.subscriptions.create({channel:"TestChannel"},{connected:function(){console.log("ActionCable connected."),Fa({type:"JOIN_ROOM",from:Ra})},received:function(e){if(e.from!==Ra)switch(console.log("ActionCable received: ",e),e.type){case"JOIN_ROOM":return Pa(e);case"EXCHANGE":if(e.to!==Ra)return;return Ga(e);case"REMOVE_USER":return Ba(e);default:return}}});case 6:ja=e.sent;case 7:case"end":return e.stop()}}),ia)}var wa={};function La(){for(var e in wa)wa[e].close();wa={},ja.unsubscribe(),document.getElementById("remote-video-container").innerHTML="",Fa({type:"REMOVE_USER",from:Ra})}var Pa=function(e){Ha(e.from,!0)},Ba=function(e){console.log("Removing user",e.from);var t=document.getElementById("remoteVideoContainer+".concat(e.from));t&&t.remove(),delete wa[e.from]},Ma={iceServers:[{urls:"stun:stun.l.google.com:19302"}]};function Ha(e,t){var a=new RTCPeerConnection(Ma);wa[e]=a;var n,r=Object(Ut.a)(yt.getTracks());try{for(r.s();!(n=r.n()).done;){var c=n.value;a.addTrack(c,yt)}}catch(o){r.e(o)}finally{r.f()}return t&&a.createOffer().then((function(e){return a.setLocalDescription(e)})).then((function(){Fa({type:"EXCHANGE",from:Ra,to:e,sdp:JSON.stringify(a.localDescription)})})).catch(Ua),a.onicecandidate=function(t){t.candidate&&Fa({type:"EXCHANGE",from:Ra,to:e,candidate:JSON.stringify(t.candidate)})},a.ontrack=function(t){if("video"===t.track.kind){var a=document.createElement("video");a.id="remoteVideoContainer+".concat(e),a.autoplay="autoplay",a.srcObject=t.streams[0],document.getElementById("remote-video-container").appendChild(a)}},a.oniceconnectionstatechange=function(t){"disconnected"===a.iceConnectionState&&(console.log("Disconnected: ",e),Fa({type:"REMOVE_USER",from:e}))},a}var Ga=function(e){var t;if(t=wa[e.from]?wa[e.from]:Ha(e.from,!1),e.candidate&&t.addIceCandidate(new RTCIceCandidate(JSON.parse(e.candidate))).then((function(){return console.log("Ice candidate added")})).catch(Ua),e.sdp){var a=JSON.parse(e.sdp);t.setRemoteDescription(new RTCSessionDescription(a)).then((function(){"offer"===a.type&&t.createAnswer().then((function(e){return t.setLocalDescription(e)})).then((function(){Fa({type:"EXCHANGE",from:Ra,to:e.from,sdp:JSON.stringify(t.localDescription)})}))})).catch(Ua)}};function Fa(e){!function(e){var t=new FormData;Object.keys(e).map((function(a){return t.append(a,e[a])})),A.post("tests",t)}(e)}var Ua=function(e){return console.log(e)};function Ya(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Yt.h)("LOADING_TABLES_DATA",sa);case 2:return e.next=4,Object(Yt.h)("FETCH_PLAYER",_a);case 4:return e.next=6,Object(Yt.h)("BET_ACTION",ba);case 6:return e.next=8,Object(Yt.h)("CALL_ACTION",Ea);case 8:return e.next=10,Object(Yt.h)("FOLD_ACTION",pa);case 10:return e.next=12,Object(Yt.h)("CHECK_ACTION",ua);case 12:return e.next=14,Object(Yt.h)("MUCK_HAND_ACTION",da);case 14:return e.next=16,Object(Yt.h)("SHOW_HAND_ACTION",ma);case 16:return e.next=18,Object(Yt.h)("GAME_START_BUTTON_CLICKED",Oa);case 18:return e.next=20,Object(Yt.h)("TAKE_POT_ACTION",fa);case 20:return e.next=22,Object(Yt.h)("PLAYER_TAKE_SEAT",ha);case 22:return e.next=24,Object(Yt.h)("ADD_NPC_PLAYER",va);case 24:return e.next=26,Object(Yt.h)("BEFORE_PLAYER_ACTION_RECEIVED",ga);case 26:return e.next=28,Object(Yt.h)("SETUP_GAME_START_TIMER",Ta);case 28:return e.next=30,Object(Yt.b)(Na);case 30:return e.next=32,Object(Yt.h)("HANDLE_JOIN_SESSION",Da);case 32:return e.next=34,Object(Yt.h)("HANDLE_LEAVE_SESSION",La);case 34:return e.next=36,Object(Yt.h)("INITIALIZE_WEBRTC",Sa);case 36:case"end":return e.stop()}}),la)}var Ka=Object(gt.createLogger)({duration:!0,collapsed:!0});var Wa=a(222),za=(a(167),a(117)),Qa=Object(za.a)({palette:{primary:{main:"#5B9FA4"},twitter:{main:"#1DA1F2"}},typography:{useNextVariants:!0}}),Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Ft.b)(),a=Object(Ct.d)(Gt,e,Object(Ct.a)(t,Ka));return t.run(Ya),a}();Object(c.render)(r.a.createElement(Wa.a,{theme:Qa},r.a.createElement(o.a,{store:Va},r.a.createElement(Ot,null))),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}))}},[[128,1,2]]]);
//# sourceMappingURL=main.43ac1ce1.chunk.js.map