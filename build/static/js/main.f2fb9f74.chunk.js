(this.webpackJsonpchip_counter_app=this.webpackJsonpchip_counter_app||[]).push([[0],{106:function(e,t,a){e.exports=a.p+"static/media/wallpaper_001.a30df639.jpg"},107:function(e,t){e.exports="data:image/png;base64,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"},124:function(e,t,a){e.exports=a(164)},134:function(e,t,a){},135:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a(11),o=a(32),l=a(41),s=a(221),u=a(199),d=a(53),p=function(){return r.a.createElement(s.a,{position:"relative",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},r.a.createElement(s.a,{textAlign:"center"},r.a.createElement(u.a,{size:80}),r.a.createElement(d.a,null,"Loading...")))};var m=function(e){var t=Object.assign({},e);return Object(i.d)((function(e){return e.data.playerSession})).isLoggedIn?r.a.createElement(l.b,t):r.a.createElement(l.a,{to:"/login"})},E=a(201),b=a(106),f=a.n(b),h=function(){return r.a.createElement("div",{style:{width:"100vw",height:"100vh",overflow:"hidden",position:"relative"}},r.a.createElement("img",{src:f.a,style:{position:"absolute",height:"120%",left:"20%",top:"50%",transform:"translate3d(-20%, -50%, 0)",filter:"blur(2px)"},alt:"wallpaper"}))},v=function(){localStorage.clear(),sessionStorage.clear(),window.location="/"},_={display:"flex",flexDirection:"column",justifyContent:"center",position:"fixed",height:"50%",width:"80%",textAlign:"center",margin:"auto",top:0,bottom:0,left:0,right:0,background:"rgba(200, 200, 200, 0.3)",borderRadius:"30px"},O=Object(i.b)((function(e,t){return{nickname:e.data.playerSession.nickname}}))((function(e){e.nickname;return r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement("div",{style:_},r.a.createElement("div",{style:{margin:"5vh"}},r.a.createElement(o.b,{to:"/newTable"},r.a.createElement(E.a,{variant:"contained"},"\u65b0\u898f\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210"))),r.a.createElement("div",{style:{margin:"5vh"}},r.a.createElement(o.b,{to:"/tables"},r.a.createElement(E.a,{variant:"contained"},"\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7"))),r.a.createElement("div",{style:{margin:"5vh"}},r.a.createElement(E.a,{variant:"contained",onClick:v},"\u30ed\u30b0\u30a2\u30a6\u30c8"))))})),y=a(13),g=a(14),C=a(15),A=a(16),I=a(220),T=a(107),N=a.n(T),S="wss://poker-webapp-backend.herokuapp.com/",j="https://poker-webapp-backend.herokuapp.com/api",D="https://poker-webapp-backend.herokuapp.com/auth/twitter",x="https://poker-webapp-backend.herokuapp.com/auth/facebook",R={width:"50vw",background:"white",padding:"2vw"},w=function(){return r.a.createElement("div",null,r.a.createElement("a",{href:D},r.a.createElement("img",{src:N.a,style:R,alt:"Login with Twitter"})))},k={width:"50vw"},L=function(){return r.a.createElement("div",null,r.a.createElement("a",{href:x},r.a.createElement(E.a,{variant:"contained",color:"primary",style:k},"Facebook Login")))},P={display:"flex",flexDirection:"column",justifyContent:"center",position:"fixed",height:"50%",width:"80%",textAlign:"center",margin:"auto",top:0,bottom:0,left:0,right:0,background:"rgba(200, 200, 200, 0.3)",borderRadius:"30px"},B={submitInput:{cursor:"pointer",position:"absolute",top:0,bottom:0,right:0,left:0,opacity:0}},M=function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.isLoggedIn,n=e.handleSubmit;return a&&(window.location="/"),t?r.a.createElement("div",null,r.a.createElement(u.a,null)):r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement("div",{style:P},r.a.createElement(w,null),r.a.createElement(L,null),r.a.createElement("br",null),r.a.createElement("div",null,"or"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:n},r.a.createElement(I.a,{name:"playerNicknameTextField",placeholder:"Your nickname"}),r.a.createElement(E.a,{variant:"contained",component:"label"},"\u30c7\u30d0\u30c3\u30b0\u30ed\u30b0\u30a4\u30f3",r.a.createElement("input",{type:"submit",style:B.submitInput})))))}}]),a}(n.Component),F=Object(i.b)((function(e,t){return{isFetching:e.data.playerSession.isFetching,isLoggedIn:e.data.playerSession.isLoggedIn}}),(function(e,t){return{handleSubmit:function(t){t.preventDefault(),e({type:"LOGIN_FORM_ON_SUBMIT",nickname:t.target.playerNicknameTextField.value.trim()})}}}))(M),H={submitInput:{cursor:"pointer",position:"absolute",top:0,bottom:0,right:0,left:0,opacity:0}},G={display:"flex",flexDirection:"column",justifyContent:"center",position:"fixed",height:"50%",width:"80%",textAlign:"center",margin:"auto",top:0,bottom:0,left:0,right:0,background:"rgba(200, 200, 200, 0.3)",borderRadius:"30px"},U=function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"componentWillUnmount",value:function(){this.props.clearForm()}},{key:"render",value:function(){var e=this.props,t=e.tableId,a=e.isTableCreated,n=e.isFetching,c=e.handleSubmit;return a?r.a.createElement(l.a,{to:"/tables/".concat(t)}):n?r.a.createElement("div",null,r.a.createElement(u.a,null)):r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement("div",{style:G},r.a.createElement("form",{onSubmit:c},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(I.a,{name:"tableNameTextField",placeholder:"Input table name"})),r.a.createElement("div",null,r.a.createElement(I.a,{name:"smallBlindTextField",placeholder:"SB"})),r.a.createElement("div",null,r.a.createElement(I.a,{name:"bigBlindTextField",placeholder:"BB"})),r.a.createElement("div",null,r.a.createElement(E.a,{variant:"contained",component:"label"},"\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210",r.a.createElement("input",{type:"submit",style:H.submitInput})))))))}}]),a}(n.Component),Y=Object(i.b)((function(e,t){return{isFetching:e.data.tables.isFetching,isTableCreated:e.data.tables.isTableCreated,tableId:e.data.tables.tableId}}),(function(e,t){return{clearForm:function(){e({type:"CLEAR_TABLE_FORM"})},handleSubmit:function(t){t.preventDefault();var a=t.target.tableNameTextField.value.trim(),n=t.target.smallBlindTextField.value.trim(),r=t.target.bigBlindTextField.value.trim();e(function(e,t,a,n){return{type:"CREATE_TABLE_FORM_ON_SUBMIT",tableName:e,sb:t,bb:a,withCards:n}}(a,n,r,!0))}}}))(U),z=a(204),V=a(205),W=a(208),Z=a(206),K=a(207),J=function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.onLoading)()}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.tables;return e.isPrepared?r.a.createElement(z.a,null,r.a.createElement(V.a,null,r.a.createElement(Z.a,null,r.a.createElement(K.a,null,"\u30c6\u30fc\u30d6\u30eb\u540d"),r.a.createElement(K.a,null,"\u30d7\u30ec\u30a4\u30e4\u30fc"))),r.a.createElement(W.a,null,a.map((function(e){return r.a.createElement(Z.a,{key:e.id},r.a.createElement(K.a,null,r.a.createElement(o.b,{to:"".concat(t.url,"/").concat(e.id)},r.a.createElement(E.a,{variant:"contained"},e.name||e.id))),r.a.createElement(K.a,null,e.players.length," / 10 \u540d"))})))):r.a.createElement("div",{style:{top:0,bottom:0,left:0,right:0,width:"80%",height:"30%",position:"fixed",margin:"auto",textAlign:"center"}},r.a.createElement(u.a,{thickness:4,size:60}),r.a.createElement("div",null,"Loading Table Data..."))}}]),a}(n.Component),Q=Object(i.b)((function(e,t){return{isPrepared:e.data.tables.isPrepared,tables:e.data.tables.tables}}),(function(e,t){return{onLoading:function(){e({type:"LOADING_TABLES_DATA"})}}}))(J),q=(a(134),Object(i.b)((function(e,t){return{}}),(function(e,t){var a=t.playerOnTurn;return{incrementBetSize:function(t){e({type:"INCREMENT_BET_SIZE",playerId:a.id,playerStack:a.stack,amount:t})}}}))((function(e){var t=e.incrementBetSize;return r.a.createElement("div",{className:"chipFieldContainer"},r.a.createElement("div",{style:{width:"18%",left:"5%",bottom:"8px",position:"absolute"}},r.a.createElement(E.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){return t(25)},style:{background:"white"}},"25")),r.a.createElement("div",{style:{width:"18%",left:"28%",bottom:"8px",position:"absolute"}},r.a.createElement(E.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){return t(100)},style:{background:"white"}},"100")),r.a.createElement("div",{style:{width:"20%"}}),r.a.createElement("div",{style:{width:"18%",left:"52%",bottom:"8px",position:"absolute"}},r.a.createElement(E.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){return t(500)},style:{background:"white"}},"500")),r.a.createElement("div",{style:{width:"18%",left:"75%",bottom:"8px",position:"absolute"}},r.a.createElement(E.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){return t(1e3)},style:{background:"white"}},"1000")))}))),X=(a(135),function(){return r.a.createElement("div",{style:{height:"100%",position:"relative"}},r.a.createElement("div",{style:{top:0,bottom:0,left:0,right:0,position:"absolute",margin:"auto",textAlign:"center"}},r.a.createElement(u.a,{thickness:4,size:40})))}),$=a(223),ee=a(209),te=a(60),ae=a.n(te);var ne=function(){var e=Object(i.c)();return Object(n.useEffect)((function(){e({type:"INITIALIZE_WEBRTC"})}),[]),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e({type:"HANDLE_JOIN_SESSION"})}},"Join"),r.a.createElement("button",{onClick:function(){return e({type:"HANDLE_LEAVE_SESSION"})}},"Leave"),r.a.createElement("div",null,r.a.createElement("video",{id:"local-video",autoPlay:!0,style:{width:"320px"}}),r.a.createElement("div",{id:"remote-video-container",style:{width:"320px"}})))},re=a(202),ce=a(214),ie=a(210),oe=a(211),le=function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.player,a=e.dialogOpen,n=e.onRequestClose,c=e.switchToBuyInDialog;return r.a.createElement($.a,{open:a,onClose:n},r.a.createElement(ee.a,null,"Player "+t.nickname),r.a.createElement(ie.a,null,r.a.createElement("div",null,"Stack ",t.stack)),r.a.createElement(oe.a,null,r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:c},"\u30c1\u30c3\u30d7\u91cf\u8abf\u6574")))}}]),a}(n.Component),se=Object(i.b)((function(e,t){return{}}),(function(e,t){return{onRequestClose:function(){e({type:"CLOSE_PLAYER_MENU_DIALOG"})},switchToBuyInDialog:function(){e({type:"CLOSE_PLAYER_MENU_DIALOG"}),t.openBuyInDialog()}}}))(le),ue=a(73),de=a(212),pe=a(108),me=a.n(pe);var Ee=Object(i.b)((function(e){return e}),(function(e,t){var a=t.player,n=t.tableId;return{addNpcPlayer:function(){e({type:"ADD_NPC_PLAYER",tableId:n,seatNo:a.seat_no})}}}))((function(e){var t=e.addNpcPlayer,a=Object(n.useState)(!1),c=Object(ue.a)(a,2),i=c[0],o=c[1];return r.a.createElement("div",null,r.a.createElement(de.a,{onClick:function(){return o(!0)}},r.a.createElement(me.a,null)),r.a.createElement($.a,{open:i,onClose:function(){return o(!1)}},r.a.createElement(ee.a,null,"\u30d7\u30ec\u30a4\u30e4\u30fc\u8ffd\u52a0"),r.a.createElement(ie.a,null,r.a.createElement(E.a,{fullWidth:!0,onClick:t,variant:"contained",color:"primary"},"NPC\u8ffd\u52a0")),r.a.createElement(oe.a,null,r.a.createElement(E.a,{onClick:function(){return o(!1)}},"\u9589\u3058\u308b"))))})),be=(a(138),function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.rank,n=t.suit,c=t.invisible,i="s"===n?"spades":"h"===n?"hearts":"d"===n?"diamonds":"clubs";switch(a){case"T":e="rank10";break;case"J":e="rank11";break;case"Q":e="rank12";break;case"K":e="rank13";break;case"A":e="rank1";break;default:e="rank".concat(a)}var o=c?"poker-card-back":"poker-card-face";return r.a.createElement("div",null,r.a.createElement("div",{className:"poker-card ".concat(i," ").concat(e)},r.a.createElement("div",{className:o},r.a.createElement("div",{className:"poker-card-face-suit"},"s"===n&&r.a.createElement("span",null,"\u2660"),"h"===n&&r.a.createElement("span",null,"\u2665"),"d"===n&&r.a.createElement("span",null,"\u2666"),"c"===n&&r.a.createElement("span",null,"\u2663")))))}}]),a}(n.Component)),fe=a(213),he=a(6),ve=Object(he.a)((function(e){return{plate:{width:"24px",margin:"auto",background:e.palette.common.white,textAlign:"center",borderRadius:"50%",boxShadow:"1px 1px 1px 1px black"},label:{lineHeight:"24px"}}}))((function(e){var t=e.classes;return r.a.createElement(fe.a,{container:!0,className:t.plate,direction:"column",justify:"center"},r.a.createElement(fe.a,{item:!0},r.a.createElement(d.a,{className:t.label},"D")))})),_e=(a(139),function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.progressTimer(1e3)}),1e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"progressTimer",value:function(e){var t=this,a=this.props,n=a.currentSeatNo,r=a.inGame,c=a.player;c.seat_no===n&&r&&c&&this.props.dispatchProgressTimer(e),this.timer=setTimeout((function(){t.progressTimer(1e3)}),1e3)}},{key:"render",value:function(){var e,t=this.props,a=t.isSeated,n=t.player,c=t.openBuyInDialog,i=t.tableId,o=t.openPlayerMenuDialog,l=t.openingPlayerMenuDialogPlayerId,s=t.currentSeatNo,u=t.leftSideStyle,p=t.rightSideStyle,m=t.topLeftSideStyle,b=t.topRightSideStyle,f=t.gameHandState,h=this.props,v=h.inGame,_=h.buttonSeatNo;if(!n.id){if(a)return r.a.createElement(Ee,{tableId:i,player:n});var O="No "+n.seat_no;return r.a.createElement(E.a,{variant:"contained",onClick:c},O)}e=1===n.state?"foldedPanel":"activePanel";var y,g=n.seat_no===s,C=n.hand_show,A=C?500:5;return p?y="leftDealerButtonPosition":u?y="rightDealerButtonPosition":m?y="bottomRightDealerButtonPosition":b&&(y="bottomLeftDealerButtonPosition"),r.a.createElement("div",{style:{position:"relative",height:"100%",width:"100%"}},v&&!n.hand_show&&null!==n.state&&1!==n.state?r.a.createElement("div",{style:{fontSize:"10px"}},r.a.createElement("div",{style:{position:"absolute",top:"40px",left:"calc(50% - 6px)",transform:"translate(-50%, 0)",zIndex:A}},r.a.createElement(be,{invisible:!C})),r.a.createElement("div",{style:{position:"absolute",top:"40px",left:"calc(50% + 6px)",transform:"translate(-50%, 0)",zIndex:A}},r.a.createElement(be,{invisible:!C}))):r.a.createElement("div",null),n.hand_show&&null!==n.state&&1!==n.state?r.a.createElement("div",null,r.a.createElement("div",{style:{position:"absolute",top:"",left:"0em",zIndex:A}},r.a.createElement(be,{rank:n.cards[0].rank,suit:n.cards[0].suit})),r.a.createElement("div",{style:{position:"absolute",top:"",left:"1.5em",zIndex:A}},r.a.createElement(be,{rank:n.cards[1].rank,suit:n.cards[1].suit}))):r.a.createElement("div",null),r.a.createElement("div",{className:e,onClick:o,style:{position:"absolute",zIndex:50,display:"flex",flexDirection:"row",justifyContent:"space-around"}},r.a.createElement("div",{style:{height:"100%",width:"100%",position:"relative"}},n.image_url?r.a.createElement("img",{src:n.image_url,className:g?"otherPlayerAvatarImageOnTurn":"otherPlayerAvatarImage",alt:"avatar"}):r.a.createElement(re.a,{style:{height:"50px",width:"50px",margin:"auto",borderRadius:"50%",border:"1px solid white",background:"black"}},r.a.createElement(d.a,{style:{color:"white",lineHeight:"50px"}},"AI")),r.a.createElement("div",{className:"otherPlayerPanelTextArea"},n.actionType?r.a.createElement(d.a,{variant:"caption",style:{fontSize:"0.625rem",color:"white"}},function(e){switch(e){case"bet":return"\u30d9\u30c3\u30c8";case"check":return"\u30c1\u30a7\u30c3\u30af";case"call":return"\u30b3\u30fc\u30eb";case"fold":return"\u30d5\u30a9\u30fc\u30eb\u30c9";default:return e}}(n.actionType)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nickname"},n.nickname),r.a.createElement("div",{className:"player-stack"},n.betSize?n.stack-n.betSize:n.stack),g?r.a.createElement(ce.a,{variant:"determinate",value:n.remain_time_to_action/n.max_remain_time_to_action*100}):r.a.createElement("div",null)))),n.seat_no===_?r.a.createElement("div",{className:y},r.a.createElement(ve,null)):r.a.createElement("div",null),"finished"===f&&n.amount_diff&&r.a.createElement("div",{className:"\n                  betAmountArea\n                  ".concat(n.amount_diff>0?"resultChipAmountPlus":"resultChipAmountMinus","\n                  ").concat(b?"topRightSide":"","\n                  ").concat(m?"topLeftSide":"","\n                  ").concat(p?"rightSide":"","\n                  ").concat(u?"leftSide":"","\n                ")},n.amount_diff>0&&r.a.createElement("span",null,"+"),n.amount_diff),v&&(n.bet_amount_in_state||n.betSize)&&r.a.createElement("div",{className:"\n                  betAmountArea\n                  ".concat(b?"topRightSide":"","\n                  ").concat(m?"topLeftSide":"","\n                  ").concat(p?"rightSide":"","\n                  ").concat(u?"leftSide":"","\n                ")},n.betSize?r.a.createElement("span",{className:"otherPlayerBetArea"},n.bet_amount_in_state||0," -> ",n.bet_amount_in_state+n.betSize):r.a.createElement("span",{className:"otherPlayerBetArea"},n.bet_amount_in_state>0?n.bet_amount_in_state:""))),r.a.createElement(se,{dialogOpen:l===n.id,player:n,openBuyInDialog:c}))}}]),a}(n.Component)),Oe=Object(i.b)((function(e,t){return{}}),(function(e,t){var a=t.player,n=t.tableId;return{openBuyInDialog:function(){t.openBuyInDialog(a.seat_no,a.id)},openPlayerMenuDialog:function(){t.openPlayerMenuDialog(a.id)},dispatchProgressTimer:function(t){e({type:"PROGRESS_PLAYER_ACTION_TIMER",tableId:n,playerId:a.id,remainTimeToAction:a.remain_time_to_action-t/1e3})}}}))(_e),ye=function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.player,a=e.dialogOpen,n=e.onRequestClose,c=e.switchToBuyInDialog;return r.a.createElement($.a,{open:a,onClose:n},r.a.createElement(ee.a,null,"Player "+t.nickname),r.a.createElement(ie.a,null,r.a.createElement("div",null,"Stack ",t.stack)),r.a.createElement(oe.a,null,r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:c},"\u30c1\u30c3\u30d7\u91cf\u8abf\u6574")))}}]),a}(n.Component),ge=Object(i.b)((function(e,t){return{}}),(function(e,t){return{onRequestClose:function(){e({type:"CLOSE_PLAYER_MENU_DIALOG"})},switchToBuyInDialog:function(){e({type:"CLOSE_PLAYER_MENU_DIALOG"}),t.openBuyInDialog()}}}))(ye),Ce=(a(140),function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.progressTimer(1e3)}),1e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"progressTimer",value:function(e){var t=this,a=this.props,n=a.currentPlayer,r=a.gameTable,c=a.inGame,i=a.playerOnTurn;n&&n.seat_no===r.currentSeatNo&&c&&i&&this.props.dispatchProgressTimer(e),this.timer=setTimeout((function(){t.progressTimer(1e3)}),1e3)}},{key:"render",value:function(){var e,t=this.props,a=t.cards,n=t.isSeated,c=t.player,i=t.openBuyInDialog,o=this.props,l=o.currentPlayer,s=o.openPlayerMenuDialog,u=o.openingPlayerMenuDialogPlayerId,d=o.onCheckAction,p=o.onFoldAction,m=o.onCallAction,b=o.checkable,f=o.inGame,h=o.gameTable,v=o.resetBetSize,_=o.dispatchBetAction,O=o.playerOnTurn,y=o.onMuckAction,g=o.onShowAction,C=o.classes,A=l&&l.seat_no===h.currentSeatNo;e=1===c.state?"foldedHeroPanel":"activeHeroPanel";var I=l&&l.id===c.id;if(!c.id){if(n)return r.a.createElement("div",null);var T="No "+c.seat_no;return r.a.createElement(E.a,{variant:"contained",onClick:i},T)}return r.a.createElement("div",{style:{position:"relative",height:"100%",width:"100%"}},f&&l&&h.currentSeatNo===l.seat_no?O&&O.betSize>0?r.a.createElement("div",null,r.a.createElement("div",{className:"foldButtonClass"},r.a.createElement(E.a,{className:C.actionButton,variant:"contained",onClick:v},"Reset")),r.a.createElement("div",{className:"callButtonClass"},r.a.createElement(E.a,{className:C.actionButton,variant:"contained",color:"primary",onClick:_},"Bet"))):O&&h.showOrMuck?r.a.createElement("div",null,r.a.createElement("div",{className:"foldButtonClass"},r.a.createElement(E.a,{className:C.actionButton,variant:"contained",onClick:y},"Muck")),r.a.createElement("div",{className:"callButtonClass"},r.a.createElement(E.a,{className:C.actionButton,variant:"contained",onClick:g},"Show"))):l.isHiddenPanel?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement("div",{className:"foldButtonClass"},r.a.createElement(E.a,{className:C.actionButton,variant:"contained",color:"secondary",onClick:p},"Fold")),b?r.a.createElement("div",{className:"callButtonClass"},r.a.createElement(E.a,{className:C.actionButton,variant:"contained",onClick:d},"Check")):r.a.createElement("div",{className:"callButtonClass"},r.a.createElement(E.a,{className:C.actionButton,variant:"contained",onClick:m},"Call"))):r.a.createElement("div",null),r.a.createElement("div",{className:e,onClick:s,style:{position:"absolute",zIndex:50,display:"flex",flexDirection:"row",justifyContent:"space-around"}},r.a.createElement("div",{style:{width:"30%",position:"relative"}},r.a.createElement("img",{src:c.image_url,className:A?"avatarImageOnTurn":"avatarImage",alt:"avatar"}),r.a.createElement("div",{className:"heroPanelTextArea"},r.a.createElement("div",{className:"heroNickname"},c.nickname),r.a.createElement("div",{className:"hero-player-stack"},c.betSize?c.stack-c.betSize:c.stack),A&&r.a.createElement(ce.a,{variant:"determinate",value:c.remain_time_to_action/c.max_remain_time_to_action*100})),I&&a&&2===a.length&&1!==c.state&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"heroHoleCard1"},r.a.createElement(be,{rank:a[0].rank,suit:a[0].suit})),r.a.createElement("div",{className:"heroHoleCard2"},r.a.createElement(be,{rank:a[1].rank,suit:a[1].suit}))))),r.a.createElement(ge,{dialogOpen:u===c.id,player:c,openBuyInDialog:i}))}}]),a}(n.Component)),Ae=Object(i.b)((function(e,t){var a=t.playerOnTurn,n=e.scenes.Tables.Room.GameTable;return{gameTable:n,checkable:!!!n.lastAggressiveSeatNo||n.lastAggressiveSeatNo===a.seat_no,inGame:!(!n.gameHandState||"finished"===n.gameHandState||"init"===n.gameHandState)}}),(function(e,t){var a=t.player,n=t.tableId,r=t.playerOnTurn;return{openBuyInDialog:function(){t.openBuyInDialog(a.seat_no,a.id)},openPlayerMenuDialog:function(){t.openPlayerMenuDialog(a.id)},dispatchBetAction:function(){e({type:"BET_ACTION",tableId:n,playerId:r.id,amount:r.betSize})},resetBetSize:function(){e({type:"RESET_BET_SIZE",tableId:n,playerId:r.id})},onFoldAction:function(){e({type:"FOLD_ACTION",tableId:n,playerId:r.id})},onCallAction:function(){e({type:"CALL_ACTION",tableId:n,playerId:r.id})},onCheckAction:function(){e({type:"CHECK_ACTION",tableId:n,playerId:r.id})},onMuckAction:function(){e({type:"MUCK_HAND_ACTION",tableId:n,playerId:r.id})},onShowAction:function(){e({type:"SHOW_HAND_ACTION",tableId:n,playerId:r.id})},dispatchProgressTimer:function(t){e({type:"PROGRESS_PLAYER_ACTION_TIMER",tableId:n,playerId:r.id,remainTimeToAction:r.remain_time_to_action-t/1e3})}}}))(Object(he.a)((function(e){return{actionButton:{textTransform:"none"}}}))(Ce)),Ie=(a(141),function(e){var t=e.player,a=e.buttonSeatNo,n=e.inGame,c=e.gameHandState,i=e.buttonDisable,o=void 0!==i&&i;return r.a.createElement("div",{className:"playerChipBetArea"},"finished"===c&&t.amount_diff&&r.a.createElement("div",null,r.a.createElement("span",{className:"".concat(t.amount_diff>0?"resultChipAmountPlus":"resultChipAmountMinus")},t.amount_diff>0&&r.a.createElement("span",null,"+"),t.amount_diff)),n&&t.seat_no===a&&!o&&r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},r.a.createElement(re.a,{circle:!0,className:"buttonPlate"},"D")),n&&(t.bet_amount_in_state||t.betSize)&&r.a.createElement("div",null,t.betSize?r.a.createElement("span",{className:"betArea"},t.bet_amount_in_state||0," -> ",t.bet_amount_in_state+t.betSize):r.a.createElement("span",{className:"betArea"},t.bet_amount_in_state>0?t.bet_amount_in_state:"")))}),Te=a(215),Ne=function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.gameTable,a=e.onRequestClose,n=e.onSubmitTakeSeat,c=e.onChangeBuyInAmount,i=e.buyInAmount;return r.a.createElement($.a,{open:t.isOpenedBuyInDialog||!1,onClose:a},r.a.createElement(ee.a,null,"\u30b7\u30fc\u30c8No. ",t.selectingSeatNo),r.a.createElement(ie.a,null,r.a.createElement(Te.a,null,"\u6301\u3061\u8fbc\u3080\u30c1\u30c3\u30d7\u91cf\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),r.a.createElement("div",null,r.a.createElement(I.a,{placeholder:"10000",onChange:c,value:i}))),r.a.createElement(oe.a,null,r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(E.a,{onClick:a},"\u30ad\u30e3\u30f3\u30bb\u30eb"),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){return n(i)}},"\u7740\u5e2d"))))}}]),a}(n.Component),Se=Object(i.b)((function(e,t){return{buyInAmount:e.scenes.Tables.Room.GameTable.buyInAmount}}),(function(e,t){var a=t.tableId,n=t.gameTable;return{onSubmitTakeSeat:function(t){var r=n.selectingSeatNo,c=n.buyInPlayerId;e({type:"PLAYER_TAKE_SEAT",tableId:a,playerId:c,seatNo:r,buyInAmount:t})},onRequestClose:function(){e({type:"CLOSE_BUY_IN_DIALOG"})},onChangeBuyInAmount:function(t){var a=t.target.value;e({type:"ON_CHANGE_BUY_IN_AMOUNT",amount:a})}}}))(Ne),je=(a(142),function(e){var t=e.gameTable;return r.a.createElement("div",{style:{position:"relative",width:"100%",background:"gray"}},r.a.createElement("div",{style:{position:"absolute",left:"calc(50% - 72px)",transform:"translate(-50%, 0%)"}},t.boardCards&&t.boardCards[0]&&t.reachedRounds.flop?r.a.createElement(be,{rank:t.boardCards[0][0],suit:t.boardCards[0][1]}):r.a.createElement(be,{invisible:!0})),r.a.createElement("div",{style:{position:"absolute",left:"calc(50% - 36px)",transform:"translate(-50%, 0%)"}},t.boardCards&&t.boardCards[1]&&t.reachedRounds.flop?r.a.createElement(be,{rank:t.boardCards[1][0],suit:t.boardCards[1][1]}):r.a.createElement(be,{invisible:!0})),r.a.createElement("div",{style:{position:"absolute",left:"50%",transform:"translate(-50%, 0%)"}},t.boardCards&&t.boardCards[2]&&t.reachedRounds.flop?r.a.createElement(be,{rank:t.boardCards[2][0],suit:t.boardCards[2][1]}):r.a.createElement(be,{invisible:!0})),r.a.createElement("div",{style:{position:"absolute",left:"calc(50% + 36px)",transform:"translate(-50%, 0%)"}},t.boardCards&&t.boardCards[3]&&t.reachedRounds.turn?r.a.createElement(be,{rank:t.boardCards[3][0],suit:t.boardCards[3][1]}):r.a.createElement(be,{invisible:!0})),r.a.createElement("div",{style:{position:"absolute",left:"calc(50% + 72px)",transform:"translate(-50%, 0%)"}},t.boardCards&&t.boardCards[4]&&t.reachedRounds.river?r.a.createElement(be,{rank:t.boardCards[4][0],suit:t.boardCards[4][1]}):r.a.createElement(be,{invisible:!0})))});var De=function(e){var t=e.count,a=Object(n.useState)(t),c=Object(ue.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){var e=null;return i>0&&(e=setTimeout((function(){o(i-1)}),1e3)),function(){clearTimeout(e)}}),[i]),i<=0?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(d.a,{component:"span",variant:"caption",style:{display:"inline-block"}},"\u6b21\u306e\u30cf\u30f3\u30c9\u958b\u59cb\u307e\u3067\u3042\u3068",r.a.createElement(d.a,{component:"span",variant:"body1",style:{display:"inline-block"}},i),"\u79d2"))},xe=function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){for(var e=this.props,t=e.tableId,a=e.openBuyInDialog,n=e.openPlayerMenuDialog,c=e.gameTable,i=e.isSeated,o=e.playerSession,l=e.players,s=e.inGame,u=e.onGameStart,p=e.isOpenGameStartCountdown,m=e.timeToStart,b=l.find((function(e){return e.nickname===o.nickname})),f=[],h=function(e){var t=l.find((function(t){return t.seat_no===e+1}));t?f.push(t):f.push({seat_no:e+1})},v=0;v<9;v++)h(v);b&&(f=f.slice(b.seat_no-1,10).concat(f.slice(0,b.seat_no-1)));var _,O=function(e){var r=f[e].id;return{isOpenedBuyInDialog:c.isOpenedBuyInDialog,openingPlayerMenuDialogPlayerId:c.openingPlayerMenuDialogPlayerId,isSeated:i,inGame:s,player:f[e],currentSeatNo:c.currentSeatNo,openBuyInDialog:a,openPlayerMenuDialog:n,tableId:t,cards:c.dealtCards[r],buttonSeatNo:c.buttonSeatNo,gameHandState:c.gameHandState}},y=l.find((function(e){return e.seat_no===c.currentSeatNo}));return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Se,{tableId:t,gameTable:c,playerSession:o}),r.a.createElement("div",{className:"flex-container"},r.a.createElement("div",{className:"game-table"},r.a.createElement("div",{className:"topPlayerContainer"},r.a.createElement("div",{className:"topPlayerArea"},r.a.createElement("div",{className:"topPlayerPanel"},r.a.createElement("div",{style:{height:"15vw",width:"15vw",margin:"auto"}},r.a.createElement(Oe,Object.assign({},O(4),{topLeftSideStyle:!0}))))),r.a.createElement("div",{className:"topPlayerArea"},r.a.createElement("div",{className:"topPlayerPanel"},r.a.createElement("div",{style:{height:"15vw",width:"15vw",margin:"auto"}},r.a.createElement(Oe,Object.assign({},O(5),{topRightSideStyle:!0})))))),r.a.createElement("div",{className:"middlePlayerContainer"},r.a.createElement("div",{className:"flex-column-container",style:{width:"25vw",maxWidth:"200px",height:"100%"}},r.a.createElement("div",{style:{height:"16vh",width:"15vw"}},r.a.createElement(Oe,Object.assign({},O(3),{leftSideStyle:!0}))),r.a.createElement("div",{style:{height:"16vh",width:"15vw"}},r.a.createElement(Oe,Object.assign({},O(2),{leftSideStyle:!0}))),r.a.createElement("div",{style:{height:"16vh",width:"15vw"}},r.a.createElement(Oe,Object.assign({},O(1),{leftSideStyle:!0})))),r.a.createElement("div",{className:"flex-center-container",style:{width:"45vw",position:"relative"}},!s&&l.length<2?r.a.createElement("div",null,i?"\u4ed6\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u3092\u5f85\u3063\u3066\u3044\u307e\u3059\u30fb\u30fb\u30fb":"\u30b7\u30fc\u30c8\u3092\u30bf\u30c3\u30c1\u3057\u3066\u304f\u3060\u3055\u3044"):r.a.createElement("div",{className:"currentStateArea"},r.a.createElement("div",{style:{position:"absolute",top:"0",borderRadius:"0.5em",height:"30%",width:"100%"}},!s&&b&&r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:u,style:{textTransform:"none"}},"\u958b\u59cb"),p&&b&&r.a.createElement(De,{count:m}),"init"!==c.round&&r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",height:"100%"}},r.a.createElement("div",{style:{background:"rgba(0, 0, 0, 0.7)",borderRadius:"4px",padding:"4px",marginLeft:"32px",marginRight:"32px"}},r.a.createElement(d.a,{style:{color:"white"}},c.pot)))),"init"!==c.round?r.a.createElement(je,{gameTable:c}):r.a.createElement("div",null)),r.a.createElement("div",{className:"heroDealerButtonArea"},r.a.createElement("div",{className:"heroDealerButtonWrapper"},s&&b&&b.seat_no===c.buttonSeatNo?r.a.createElement(ve,null):r.a.createElement("div",null)))),r.a.createElement("div",{className:"flex-column-container",style:{width:"25vw",maxWidth:"200px",height:"100%"}},r.a.createElement("div",{style:{height:"16vh",width:"75%",marginLeft:"auto"}},r.a.createElement(Oe,Object.assign({},O(6),{rightSideStyle:!0}))),r.a.createElement("div",{style:{height:"16vh",width:"75%",marginLeft:"auto"}},r.a.createElement(Oe,Object.assign({},O(7),{rightSideStyle:!0}))),r.a.createElement("div",{style:{height:"16vh",width:"75%",marginLeft:"auto"}},r.a.createElement(Oe,Object.assign({},O(8),{rightSideStyle:!0}))))),r.a.createElement("div",{className:"heroPlayerContainer"},r.a.createElement("div",{className:"test"},r.a.createElement("div",{style:{height:"20%"}},r.a.createElement(Ie,Object.assign({},(_=0,{inGame:s,buttonSeatNo:c.buttonSeatNo,player:f[_],gameHandState:c.gameHandState}),{buttonDisable:!0}))),r.a.createElement("div",{style:{height:"80%",width:"100%",textAlign:"center"}},r.a.createElement(Ae,Object.assign({},O(0),{currentPlayer:b,tableId:t,playerOnTurn:y}))))))))}}]),a}(n.Component),Re=Object(i.b)((function(e){var t=e.scenes.Tables.Room.GameTable;return{isOpenGameStartCountdown:t.isOpenGameStartCountdown,timeToStart:t.timeToStart}}),(function(e,t){var a=t.tableId;return{openBuyInDialog:function(t,n){e({type:"OPEN_BUY_IN_DIALOG",tableId:a,seatNo:t,playerId:n})},openPlayerMenuDialog:function(t){e({type:"OPEN_PLAYER_MENU_DIALOG",tableId:a,playerId:t})}}}))(xe);var we=Object(he.a)((function(e){return{container:{position:"relative",height:"100vh",width:"100vw"},progress:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}}))((function(e){var t=e.classes;return r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.progress},r.a.createElement(u.a,{size:80})))})),ke=a(203),Le=a(216),Pe=a(217),Be=a(225),Me=(a(143),function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props.player,t=e.amount_diff>0?"show-result-dialog-amount-diff-plus":"show-result-dialog-amount-diff-minus";return r.a.createElement(Le.a,{dense:!0},r.a.createElement(Be.a,{src:e.image_url}),r.a.createElement(Pe.a,null,r.a.createElement("div",{className:"show-result-dialog-user-nickname"},e.nickname),r.a.createElement("div",null,r.a.createElement("span",{className:"show-result-dialog-stack-before"},e.stack_before),"\u2192",r.a.createElement("span",{className:"show-result-dialog-stack-after"},e.stack_after)),r.a.createElement("div",null,r.a.createElement("span",{className:t},"(",e.amount_diff>0?"+":"",e.amount_diff,")"))))}}]),a}(n.Component)),Fe=Object(i.b)((function(e,t){return{}}),(function(e,t){return{}}))(Me),He=function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.players,n=e.onRequestClose,c=e.gameTable;return r.a.createElement("div",null,r.a.createElement($.a,{open:t,onClose:n},r.a.createElement(ee.a,null,"\u30cf\u30f3\u30c9",c.gameHandCount,"\u306e\u7d50\u679c"),r.a.createElement(ke.a,null,a.map((function(e){return r.a.createElement(Fe,{key:e.id,player:e})})))))}}]),a}(n.Component),Ge=Object(i.b)((function(e,t){var a=e.scenes.Tables.Room;return{open:a.ShowResultDialog.open,players:a.ShowResultDialog.players}}),(function(e,t){return{onRequestClose:function(){e({type:"SHOW_RESULT_DIALOG_CLOSE"})}}}))(He),Ue=a(218),Ye=function(e){return{container:{position:"absolute",top:"0px",right:"0px",background:"rgba(0, 0, 0, 0.7)",padding:e.spacing(.5),zIndex:e.zIndex.appBar},handCount:{color:e.palette.common.white,display:"inline-block"},round:{color:e.palette.common.white,display:"inline-block",marginRight:e.spacing(1)}}},ze=Object(Ue.a)(Ye);var Ve=function(e){var t=e.handCount,a=e.round,n=ze();return r.a.createElement("div",{className:n.container},r.a.createElement(d.a,{variant:"caption",className:n.round},function(e){switch(e){case"preflop":return"\u30d7\u30ea\u30d5\u30ed\u30c3\u30d7";case"flop":return"\u30d5\u30ed\u30c3\u30d7";case"turn":return"\u30bf\u30fc\u30f3";case"river":return"\u30ea\u30d0\u30fc";case"finished":return"\u7d42\u4e86";default:return e}}(a)),r.a.createElement(d.a,{variant:"caption",className:n.handCount},"\u7b2c",t,"\u30b2\u30fc\u30e0"))},We=function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onActionCableConnected,a=e.onActionCableDisconnected,n=e.match,r=e.onGameHandFinishedReceived,c=e.onGameHandActionReceived,i=e.onPlayerActionReceived,o=e.onDealtCardsReceived,l=e.onShowResultDialogReceived;this.App={};var s=localStorage.getItem("playerSession.jwt");this.App.cable=ae.a.createConsumer("".concat(S,"/cable?jwt=").concat(s));var u=n.params.id;this.App.ChipChannel=this.App.cable.subscriptions.create({channel:"ChipChannel",tableId:u},{connected:function(){console.debug("Chip Channel connected"),t()},disconnected:function(){console.debug("Chip Channel disconnected"),a()},received:function(e){console.debug("Chip Channel received",e),"player_action"===e.type?i(e):"game_hand"===e.type?c(e):"game_hand_finished"===e.type?r(e):"show_result_dialog"===e.type&&l(e)},rejected:function(e){console.debug("Chip Channel rejected",e)}}),this.App.cable_for_dealt_card=ae.a.createConsumer("".concat(S,"/cable?jwt=").concat(s)),this.App.DealtCardChannel=this.App.cable_for_dealt_card.subscriptions.create({channel:"DealtCardChannel",tableId:u},{connected:function(){console.debug("DealtCardChannel connected")},disconnected:function(){console.debug("DealtCardChannel disconnected")},received:function(e){console.debug("DealtCardChannel received: ",e),o(e)},rejected:function(e){console.debug("DealtCardChannel rejected",e)}}),window.addEventListener("resize",(function(){var e=.01*window.innerHeight;window.document.documentElement.style.setProperty("--vh","".concat(e,"px"))}));var d=.01*window.innerHeight;window.document.documentElement.style.setProperty("--vh","".concat(d,"px"))}},{key:"componentWillUnmount",value:function(){this.App.ChipChannel.unsubscribe(),this.App.DealtCardChannel.unsubscribe()}},{key:"render",value:function(){var e,t=this.props,a=t.gameTable,n=t.playerSession,c=t.onGameStart,i=t.players,o=t.tableId,l=t.tableName,d=t.onBetAction,p=!!i.find((function(e){return e.id===n.playerId})),m=!(!(e=a.gameHandState)||"finished"===e||"init"===e),E=i.find((function(e){return e.id===n.playerId})),b=i.find((function(e){return e.seat_no===a.currentSeatNo}));return a.isReady?r.a.createElement("div",{id:"baseWrapper",style:{background:"#003300"}},r.a.createElement($.a,{open:a.reconnectingActionCable},r.a.createElement(ee.a,null,"\u518d\u63a5\u7d9a\u4e2d\u30fb\u30fb\u30fb"),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(u.a,null))),r.a.createElement(Ge,{tableId:o,onGameStart:c,gameTable:a}),(m||i.length>1)&&"init"!==a.round&&r.a.createElement(Ve,{handCount:a.gameHandCount,round:a.round}),r.a.createElement(s.a,{display:"flex"},r.a.createElement("div",{style:{height:"100%",width:"70%"}},r.a.createElement(Re,{tableName:l,tableId:o,onGameStart:c,players:i,playerSession:n,isSeated:p,inGame:m,gameTable:a,onBetAction:d})),r.a.createElement("div",{style:{height:"100vh",width:"30%",backgroundColor:"red"}},r.a.createElement(ne,null))),r.a.createElement("div",{style:{height:"15vh",width:"100%",position:"absolute",bottom:0,zIndex:1e3}},E&&m&&!a.showOrMuck&&a.currentSeatNo===E.seat_no?E.isFetching?r.a.createElement(X,null):E.isHiddenPanel?r.a.createElement("div",null):r.a.createElement(q,{key:E.id,playerOnTurn:b,operatingPlayer:E}):r.a.createElement("div",null))):r.a.createElement(we,null)}}]),a}(n.Component),Ze=Object(i.b)((function(e,t){var a=e.scenes.Tables.Room,n=t.match.params.id;return{tableId:n,tableName:n,players:a.Players,playerSession:e.data.playerSession,gameTable:a.GameTable,onBetAction:function(e,t){return function(e,t,a){return{type:"BET_ACTION",tableId:e,playerId:t,amount:a}}(n,e,t)}}}),(function(e,t){var a=t.match.params.id;return{onGameHandFinishedReceived:function(t){e({type:"GAME_HAND_FINISHED_RECEIVED"})},onGameHandActionReceived:function(t){var a,n;e((a=t.pot,n=t.players,{type:"GAME_HAND_ACTION_RECEIVED",pot:a,players:n}))},onPlayerActionReceived:function(t){e(function(e){var t=e.pot,a=e.game_hand_state,n=e.players,r=e.current_seat_no,c=e.button_seat_no,i=e.last_aggressive_seat_no,o=e.undoable,l=e.game_hand_count,s=e.board_cards,u=e.show_or_muck,d=e.reached_rounds,p=e.reaching_rounds;return{type:"BEFORE_PLAYER_ACTION_RECEIVED",pot:t,gameHandState:a,round:a,currentSeatNo:r,players:n,buttonSeatNo:c,lastAggressiveSeatNo:i,undoable:o,gameHandCount:l,boardCards:s,showOrMuck:u,reachedRounds:d,lastAction:e.last_action,reachingRounds:p,justActioned:e.just_actioned,tableId:e.table_id}}(t))},onDealtCardsReceived:function(t){e(function(e){return{type:"DEALT_CARD_RECEIVED",cards:e.cards,playerId:e.player_id}}(t))},onShowResultDialogReceived:function(t){e(function(e){return{type:"SHOW_RESULT_DIALOG_RECEIVED",players:e.players}}(t))},onGameStart:function(){e(function(e){return{type:"GAME_START_BUTTON_CLICKED",tableId:e}}(a))},onActionCableConnected:function(){e({type:"ACTION_CABLE_CONNECTED"})},onActionCableDisconnected:function(){e({type:"ACTION_CABLE_DISCONNECTED"})}}}))(We);var Ke=function(){return Object(i.d)((function(e){return e.data.playerSession})).isReady?r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(m,{exact:!0,path:"/",component:O}),r.a.createElement(l.b,{path:"/login",component:F}),r.a.createElement(m,{path:"/newTable",component:Y}),r.a.createElement(m,{exact:!0,path:"/tables",component:Q}),r.a.createElement(m,{path:"/tables/:id",component:Ze}))):r.a.createElement(p,null)};a(144);var Je=a(46),Qe=a(109),qe={},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLAYER_SUCCEEDED":return Object.assign({},e,{isReady:!0,isLoggedIn:!0,nickname:t.nickname,playerId:t.playerId,imageUrl:t.imageUrl});case"FETCH_PLAYER_FAILED":return Object.assign({},e,{isReady:!0});case"LOGIN_FORM_ON_SUBMIT":return Object.assign({},e,{isFetching:!0});case"LOGIN_FORM_ON_SUCCESS":return Object.assign({},e,{isFetching:!1,isLoggedIn:!0,nickname:t.nickname,playerId:t.playerId});default:return e}},$e={isTableCreated:!1},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_TABLE_FORM":return $e;case"CREATE_TABLE_FORM_ON_SUBMIT":return Object.assign({},e,{isFetching:!0});case"CREATE_TABLE_FORM_ON_SUCCESS":return Object.assign({},e,{isFetching:!1,tableId:t.tableId,isTableCreated:!0});case"CREATE_TABLE_FORM_ON_FAILURE":return Object.assign({},e,{isFetching:!1});case"LOADING_TABLES_DATA":return Object.assign({},e,{isPrepared:!1});case"LOADING_TABLES_DATA_ON_SUCCESS":return Object.assign({},e,{isPrepared:!0,tables:t.tables});default:return e}},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{playerSession:Xe(e.playerSession,t),tables:et(e.tables,t)}},at=a(47),nt={openingPlayerMenuDialogPlayerId:null,isReady:!1,pot:0,reconnectingActionCable:!1,dealtCards:[],buyInAmount:"",isOpenGameStartCountdown:!1,timeToStart:0},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETUP_GAME_START_TIMER":return Object(at.a)({},e,{isOpenGameStartCountdown:!0,timeToStart:t.seconds});case"GAME_START_COMPLETED":return Object(at.a)({},e,{isOpenGameStartCountdown:!1});case"ON_CHANGE_BUY_IN_AMOUNT":return Object.assign({},e,{buyInAmount:t.amount});case"DEALT_CARD_RECEIVED":var a=Object.assign({},e.dealtCards);return a[t.playerId]=t.cards,Object.assign({},e,{dealtCards:a,isOpenGameStartCountdown:!1});case"OPEN_BOARD_CARD_BY_ROUND":return Object.assign({},e,{reachedRounds:t.reachedRounds,boardCards:t.boardCards});case"PLAYER_ACTION_RECEIVED":return Object.assign({},e,{isReady:!0,pot:t.pot,gameHandState:t.gameHandState,round:t.round,currentSeatNo:t.currentSeatNo,buttonSeatNo:t.buttonSeatNo,lastAggressiveSeatNo:t.lastAggressiveSeatNo,undoable:t.undoable,gameHandCount:t.gameHandCount,boardCards:t.boardCards,showOrMuck:t.showOrMuck,reachedRounds:t.reachedRounds});case"OPEN_PLAYER_MENU_DIALOG":return Object.assign({},e,{openingPlayerMenuDialogPlayerId:t.playerId});case"CLOSE_PLAYER_MENU_DIALOG":return Object.assign({},e,{openingPlayerMenuDialogPlayerId:null});case"OPEN_BUY_IN_DIALOG":return Object.assign({},e,{isOpenedBuyInDialog:!0,selectingSeatNo:t.seatNo,buyInPlayerId:t.playerId});case"CLOSE_BUY_IN_DIALOG":return Object.assign({},e,{isOpenedBuyInDialog:!1,selectingSeatNo:null,buyInAmount:""});case"PLAYER_TAKE_SEAT":return Object.assign({},e,{buyInAmount:""});case"PLAYER_ACTION_TAKE_SEAT_COMPLETED":case"PLAYER_ACTION_TAKE_SEAT_FAILED":return Object.assign({},e,{isOpenedBuyInDialog:!1,selectingSeatNo:null});case"ACTION_CABLE_CONNECTED":return Object.assign({},e,{reconnectingActionCable:!1});case"ACTION_CABLE_DISCONNECTED":return Object.assign({},e,{reconnectingActionCable:!0});default:return e}},ct={betSize:0},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0,a=e;if(a.id!==t.playerId)return a;var n=0;switch(t.type){case"OTHER_PLAYER_ACTION":return Object.assign({},a,{actionType:t.actionType});case"PROGRESS_PLAYER_ACTION_TIMER":return Object.assign({},a,{remain_time_to_action:t.remainTimeToAction});case"CHANGE_BET_AMOUNT":return Object.assign({},a,{betSize:t.amount});case"SET_BET_SIZE":return n=t.amount,Object.assign({},a,{betSize:n});case"RESET_BET_SIZE":return Object.assign({},a,{betSize:0});case"INCREMENT_BET_SIZE":return n=(a.betSize||0)+t.amount,t.playerStack<n&&(n=t.playerStack),Object.assign({},a,{betSize:n});case"DECREMENT_BET_SIZE":return(n=(a.betSize||0)-t.amount)<0&&(n=0),Object.assign({},a,{betSize:n});case"CHECK_ACTION":return Object.assign({},a,{isFetching:!0,isHiddenPanel:!0});case"CHECK_ACTION_COMPLETED":case"CHECK_ACTION_FAILED":return Object.assign({},a,{isFetching:!1});case"BET_ACTION":return Object.assign({},a,{isFetching:!0,isHiddenPanel:!0});case"BET_ACTION_COMPLETED":case"BET_ACTION_FAILED":return Object.assign({},a,{isFetching:!1});case"CALL_ACTION":return Object.assign({},a,{isFetching:!0,isHiddenPanel:!0});case"CALL_ACTION_COMPLETED":case"CALL_ACTION_FAILED":return Object.assign({},a,{isFetching:!1});case"FOLD_ACTION":return Object.assign({},a,{isFetching:!0,isHiddenPanel:!0});case"FOLD_ACTION_COMPLETED":case"FOLD_ACTION_FAILED":return Object.assign({},a,{isFetching:!1});default:return a}},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OTHER_PLAYER_ACTION":case"PROGRESS_PLAYER_ACTION_TIMER":return e.map((function(e){return it(e,t)}));case"PLAYER_ACTION_RECEIVED":return t.players;case"SHOW_ACTIVE_PLAYER_CARDS":return e.map((function(e){var a=t.players.find((function(t){return t.id===e.id}));return Object(at.a)({},e,{cards:a.cards,hand_show:a.hand_show,state:a.state})}));case"CHANGE_BET_AMOUNT":case"SET_BET_SIZE":case"RESET_BET_SIZE":case"INCREMENT_BET_SIZE":case"DECREMENT_BET_SIZE":case"CHECK_ACTION":case"CHECK_ACTION_COMPLETED":case"CHECK_ACTION_FAILED":case"BET_ACTION":case"BET_ACTION_COMPLETED":case"BET_ACTION_FAILED":case"CALL_ACTION":case"CALL_ACTION_COMPLETED":case"CALL_ACTION_FAILED":case"FOLD_ACTION":case"FOLD_ACTION_COMPLETED":case"FOLD_ACTION_FAILED":return e.map((function(e){return it(e,t)}));default:return e}},lt={open:!1,players:[]},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_RESULT_DIALOG_CLOSE":return Object.assign({},e,{open:!1});case"SHOW_RESULT_DIALOG_RECEIVED":return e;case"SHOW_RESULT_DIALOG_FINISHED_RECEIVED":return lt;case"PLAYER_ACTION_RECEIVED":return Object.assign({},e,{open:!1});default:return e}},ut={},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;return{GameTable:rt(e.GameTable,t),Players:ot(e.Players,t),ShowResultDialog:st(e.ShowResultDialog,t)}},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{Room:dt(e.Room,t)}},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{Tables:pt(e.Tables,t)}},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{data:tt(e.data,t),scenes:mt(e.scenes,t)}},bt=a(49),ft=a(110),ht=a(9),vt=a.n(ht),_t=a(61),Ot=a(5),yt=a(111),gt=a.n(yt),Ct=localStorage.getItem("playerSession.jwt"),At=gt.a.create({baseURL:j,headers:{Accept:"application/json",PLAYER_JWT:Ct}});At.interceptors.response.use((function(e){var t=localStorage.getItem("current-client-version"),a=e.headers["current-client-version"];return localStorage.setItem("current-client-version",a),t&&t!==a&&window.location.reload(),e}));var It=function(e,t,a,n){var r=new FormData;return r.append("type","PLAYER_ACTION_TAKE_SEAT"),r.append("table_id",e),r.append("player_id",t),r.append("seat_no",a),r.append("buy_in_amount",n),At.post("/game_dealer/take_seat",r)},Tt=function(e,t){var a=new FormData;return a.append("type","PLAYER_ACTION_TAKE_SEAT"),a.append("table_id",e),a.append("seat_no",t),At.post("/game_dealer/add_npc_player",a)},Nt=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=new FormData;return r.append("type",e),r.append("table_id",t),r.append("player_id",a),n&&r.append("amount",n),At.post("/game_dealer",r)},St=function(e){var t=new FormData;return t.append("table_id",e),At.post("/game_dealer/start",t)},jt=function(e,t,a){var n=new FormData;return n.append("table_name",e),n.append("sb",t),n.append("bb",a),At.post("/tables",n)},Dt=function(e){var t=new FormData;return t.append("nickname",e),At.post("/session",t)},xt=function(){return At.get("/players/@me")},Rt=function(){return At.get("/tables")};function wt(e){if(!e)return{};for(var t=e.split("&"),a={},n=0;n<t.length;n++){var r=t[n].split("=");if("undefined"===typeof a[r[0]])a[r[0]]=decodeURIComponent(r[1]);else if("string"===typeof a[r[0]]){var c=[a[r[0]],decodeURIComponent(r[1])];a[r[0]]=c}else a[r[0]].push(decodeURIComponent(r[1]))}return a}var kt,Lt=vt.a.mark(ra),Pt=vt.a.mark(ca),Bt=vt.a.mark(ia),Mt=vt.a.mark(oa),Ft=vt.a.mark(la),Ht=vt.a.mark(sa),Gt=vt.a.mark(ua),Ut=vt.a.mark(da),Yt=vt.a.mark(pa),zt=vt.a.mark(ma),Vt=vt.a.mark(Ea),Wt=vt.a.mark(ba),Zt=vt.a.mark(fa),Kt=vt.a.mark(ha),Jt=vt.a.mark(_a),Qt=vt.a.mark(Oa),qt=vt.a.mark(ga),Xt=vt.a.mark(Ca),$t=vt.a.mark(Aa),ea=vt.a.mark(Ia),ta=vt.a.mark(Da),aa=vt.a.mark(Ra),na=vt.a.mark(Ha);function ra(e){var t,a,n,r,c,i;return vt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.tableName,a=e.sb,n=e.bb,o.prev=1,o.next=4,Object(Ot.b)(jt,t,a,n);case 4:return r=o.sent,c=Object(_t.camelizeKeys)(r.data),i=c.tableId,o.next=8,Object(Ot.d)({type:"CREATE_TABLE_FORM_ON_SUCCESS",tableId:i});case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,Object(Ot.d)({type:"CREATE_TABLE_FORM_ON_FAILURE"});case 14:case"end":return o.stop()}}),Lt,null,[[1,10]])}function ca(e){var t,a,n;return vt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.nickname,r.next=3,Object(Ot.b)(Dt,t);case 3:return a=r.sent,n=Object(_t.camelizeKeys)(a.data),localStorage.setItem("playerSession.jwt",n.jwt),r.next=8,Object(Ot.d)({type:"LOGIN_FORM_ON_SUCCESS",nickname:n.nickname,playerId:n.playerId});case 8:case"end":return r.stop()}}),Pt)}function ia(){var e,t,a;return vt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ot.b)(Rt);case 2:return e=n.sent,t=e.data,a=t.tables,n.next=7,Object(Ot.d)({type:"LOADING_TABLES_DATA_ON_SUCCESS",tables:a});case 7:case"end":return n.stop()}}),Bt)}function oa(e){var t,a;return vt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tableId,a=e.playerId,n.prev=1,n.next=4,Object(Ot.b)(Nt,"PLAYER_ACTION_CHECK",t,a);case 4:return n.next=6,Object(Ot.d)({type:"CHECK_ACTION_COMPLETED",tableId:t,playerId:a});case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),console.log(n.t0),n.next=13,Object(Ot.d)({type:"CHECK_ACTION_FAILED",tableId:t,playerId:a});case 13:case"end":return n.stop()}}),Mt,null,[[1,8]])}function la(e){var t,a;return vt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tableId,a=e.playerId,n.prev=1,n.next=4,Object(Ot.b)(Nt,"PLAYER_ACTION_MUCK_HAND",t,a);case 4:return n.next=6,Object(Ot.d)({type:"MUCK_HAND_ACTION_COMPLETED",tableId:t,playerId:a});case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),console.log(n.t0),n.next=13,Object(Ot.d)({type:"MUCK_HAND_ACTION_FAILED",tableId:t,playerId:a});case 13:case"end":return n.stop()}}),Ft,null,[[1,8]])}function sa(e){var t,a;return vt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tableId,a=e.playerId,n.prev=1,n.next=4,Object(Ot.b)(Nt,"PLAYER_ACTION_SHOW_HAND",t,a);case 4:return n.next=6,Object(Ot.d)({type:"SHOW_HAND_ACTION_COMPLETED",tableId:t,playerId:a});case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),console.log(n.t0),n.next=13,Object(Ot.d)({type:"SHOW_HAND_ACTION_FAILED",tableId:t,playerId:a});case 13:case"end":return n.stop()}}),Ht,null,[[1,8]])}function ua(e){var t,a;return vt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tableId,a=e.playerId,n.prev=1,n.next=4,Object(Ot.b)(Nt,"PLAYER_ACTION_FOLD",t,a);case 4:return n.next=6,Object(Ot.d)({type:"FOLD_ACTION_COMPLETED",tableId:t,playerId:a});case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),console.log(n.t0),n.next=13,Object(Ot.d)({type:"FOLD_ACTION_FAILED",tableId:t,playerId:a,error:n.t0});case 13:case"end":return n.stop()}}),Gt,null,[[1,8]])}function da(e){var t,a;return vt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tableId,a=e.playerId,n.prev=1,n.next=4,Object(Ot.b)(Nt,"PLAYER_ACTION_CALL",t,a);case 4:return n.next=6,Object(Ot.d)({type:"CALL_ACTION_COMPLETED",tableId:t,playerId:a});case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),console.log(n.t0),n.next=13,Object(Ot.d)({type:"CALL_ACTION_FAILED",tableId:t,playerId:a,error:n.t0});case 13:case"end":return n.stop()}}),Ut,null,[[1,8]])}function pa(e){var t,a,n,r,c;return vt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.tableId,a=e.playerId,n=e.amount,i.prev=1,i.next=4,Object(Ot.b)(Nt,"PLAYER_ACTION_BET_CHIPS",t,a,n);case 4:return r=i.sent,c=r.data.pot,i.next=8,Object(Ot.d)({type:"BET_ACTION_COMPLETED",tableId:t,playerId:a,amount:n,pot:c});case 8:i.next=15;break;case 10:return i.prev=10,i.t0=i.catch(1),console.log(i.t0),i.next=15,Object(Ot.d)({type:"BET_ACTION_FAILED",tableId:t,playerId:a,error:i.t0});case 15:case"end":return i.stop()}}),Yt,null,[[1,10]])}function ma(e){var t,a,n,r,c,i;return vt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.tableId,a=e.playerId,o.prev=1,o.next=4,Object(Ot.b)(Nt,"GAME_HAND_TAKE_POT",t,a);case 4:return n=o.sent,r=Object(_t.camelizeKeys)(n.data),c=r.pot,i=r.playerStack,o.next=8,Object(Ot.d)({type:"TAKE_POT_ACTION_COMPLETED",tableId:t,playerId:a,pot:c,playerStack:i});case 8:o.next=15;break;case 10:return o.prev=10,o.t0=o.catch(1),console.log(o.t0),o.next=15,Object(Ot.d)({type:"TAKE_POT_ACTION_FAILED",tableId:t,playerId:a,error:o.t0});case 15:case"end":return o.stop()}}),zt,null,[[1,10]])}function Ea(e){var t,a,n,r,c,i,o;return vt.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.amount,a=e.tableId,n=e.playerId,r=e.seatNo,c=e.buyInAmount,l.prev=1,l.next=4,Object(Ot.b)(It,a,n,r,c);case 4:return i=l.sent,o=i.data,l.next=8,Object(Ot.d)({type:"PLAYER_ACTION_TAKE_SEAT_COMPLETED",tableId:a,playerId:n,amount:t,pot:o.pot});case 8:l.next=15;break;case 10:return l.prev=10,l.t0=l.catch(1),console.log(l.t0),l.next=15,Object(Ot.d)({type:"PLAYER_ACTION_TAKE_SEAT_FAILED",tableId:a,playerId:n,error:l.t0});case 15:case"end":return l.stop()}}),Vt,null,[[1,10]])}function ba(e){var t,a;return vt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tableId,a=e.seatNo,n.prev=1,n.next=4,Object(Ot.b)(Tt,t,a);case 4:return n.next=6,Object(Ot.d)({type:"ON_SUCCESS_ADD_NPC_PLAYER"});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(Ot.d)({type:"ON_FAILURE_ADD_NPC_PLAYER"});case 12:case"end":return n.stop()}}),Wt,null,[[1,8]])}function fa(){var e,t,a;return vt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ot.b)(xt);case 3:return e=n.sent,t=e.data,a=Object(_t.camelizeKeys)(t),n.next=8,Object(Ot.d)(Object(at.a)({type:"FETCH_PLAYER_SUCCEEDED"},a));case 8:n.next=16;break;case 10:return n.prev=10,n.t0=n.catch(0),console.error(n.t0),sessionStorage.setItem("redirectTo",window.location.href),n.next=16,Object(Ot.d)({type:"FETCH_PLAYER_FAILED"});case 16:case"end":return n.stop()}}),Zt,null,[[0,10]])}function ha(e){var t;return vt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.tableId,a.prev=1,a.next=4,Object(Ot.b)(St,t);case 4:return a.next=6,Object(Ot.d)({type:"GAME_START_COMPLETED",tableId:t});case 6:a.next=13;break;case 8:return a.prev=8,a.t0=a.catch(1),console.log(a.t0),a.next=13,Object(Ot.d)({type:"GAME_START_FAILED",tableId:t});case 13:case"end":return a.stop()}}),Kt,null,[[1,8]])}function va(e){return Object(bt.c)((function(t){var a=setInterval((function(){t(bt.a)}),1e3*e);return function(){clearInterval(a)}}))}function _a(e,t,a){var n;return vt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Ot.b)(va,a);case 3:return n=r.sent,r.next=6,Object(Ot.g)(n);case 6:return r.prev=6,r.next=9,Object(Ot.d)({type:"OPEN_BOARD_CARD_BY_ROUND",reachedRounds:e,boardCards:t});case 9:return r.finish(6);case 10:case"end":return r.stop()}}),Jt,null,[[0,,6,10]])}function Oa(e){var t,a,n,r,c;return vt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(e.justActioned&&e.reachingRounds.length>0)){i.next=23;break}return i.next=3,Object(Ot.d)({type:"SHOW_ACTIVE_PLAYER_CARDS",players:e.players});case 3:if(t={},e.reachingRounds.includes("flop")){i.next=8;break}return t={flop:e.reachingRounds.includes("turn")||e.reachingRounds.includes("river"),turn:!e.reachingRounds.includes("turn")&&e.reachingRounds.includes("river")},i.next=8,Object(Ot.b)(_a,t,e.boardCards,0);case 8:return i.next=10,Object(Ot.a)(e.reachingRounds.map((function(a,n){return(t=Object.assign({},t))[a]=!0,Object(Ot.b)(_a,t,e.boardCards,2*(n+1))})));case 10:return i.prev=10,i.next=13,Object(Ot.b)(va,2);case 13:return a=i.sent,i.next=16,Object(Ot.g)(a);case 16:return i.prev=16,i.next=19,Object(Ot.d)(Object.assign({},e,{type:"PLAYER_ACTION_RECEIVED"}));case 19:return i.next=21,Object(Ot.d)({type:"SETUP_GAME_START_TIMER",tableId:e.tableId,seconds:10});case 21:return i.abrupt("return");case 23:if(!e.lastAction||"blind"===e.lastAction.action_type||"taken"===e.lastAction.action_type){i.next=42;break}return i.next=26,Object(Ot.d)({type:"OTHER_PLAYER_ACTION",actionType:e.lastAction.action_type,playerId:e.lastAction.player_id});case 26:return i.prev=26,i.next=29,Object(Ot.b)(va,.8);case 29:return n=i.sent,i.next=32,Object(Ot.g)(n);case 32:return i.prev=32,r=Object.assign({},e,{type:"PLAYER_ACTION_RECEIVED"}),i.next=36,Object(Ot.d)(r);case 36:if("finished"!==e.gameHandState){i.next=39;break}return i.next=39,Object(Ot.d)({type:"SETUP_GAME_START_TIMER",tableId:e.tableId,seconds:10});case 39:return i.finish(32);case 40:i.next=48;break;case 42:return c=Object.assign({},e,{type:"PLAYER_ACTION_RECEIVED"}),i.next=45,Object(Ot.d)(c);case 45:if("finished"!==e.gameHandState){i.next=48;break}return i.next=48,Object(Ot.d)({type:"SETUP_GAME_START_TIMER",tableId:e.tableId,seconds:10});case 48:case"end":return i.stop()}}),Qt,null,[[10,,16,23],[26,,32,40]])}function ya(e){return Object(bt.c)((function(t){var a=setInterval((function(){(e-=1e3)<=0&&t(bt.a)}),1e3);return function(){clearInterval(a)}}))}function ga(e){var t,a;return vt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=1e3*e.seconds,n.next=3,Object(Ot.b)(ya,t);case 3:return a=n.sent,n.prev=4,n.next=7,Object(Ot.g)(a);case 7:return n.prev=7,n.next=10,Object(Ot.c)();case 10:if(!n.sent){n.next=14;break}a.close(),n.next=16;break;case 14:return n.next=16,Object(Ot.d)({type:"GAME_START_BUTTON_CLICKED",tableId:e.tableId});case 16:return n.finish(7);case 17:case"end":return n.stop()}}),qt,null,[[4,,7,17]])}function Ca(e){return vt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ot.e)([Object(Ot.b)(ga,e),Object(Ot.g)("GAME_START_BUTTON_CLICKED"),Object(Ot.g)("PLAYER_ACTION_RECEIVED")]);case 2:case"end":return t.stop()}}),Xt)}function Aa(){var e,t,a,n,r;return vt.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if((e=new URL(window.location.href)).searchParams?(t=e.searchParams.get("jwt"))&&(localStorage.setItem("playerSession.jwt",t),window.history.replaceState({},"remove JWT",e.href.split("?")[0])):(a=wt(window.location.href.split("?")[1])).jwt&&(localStorage.setItem("playerSession.jwt",a.jwt),window.history.replaceState({},"remove JWT",e.href.split("?")[0])),n=localStorage.getItem("playerSession.jwt"),r=sessionStorage.getItem("redirectTo"),sessionStorage.removeItem("redirectTo"),!n||!r){c.next=9;break}window.location=r,c.next=11;break;case 9:return c.next=11,Object(Ot.d)({type:"FETCH_PLAYER"});case 11:case"end":return c.stop()}}),$t)}function Ia(){return vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.mediaDevices.getUserMedia({audio:!0,video:{width:"320",height:"240"}}).then((function(e){kt=e,document.getElementById("local-video").srcObject=e})).catch((function(e){return console.log("Error!: ",e)}));case 1:case"end":return e.stop()}}),ea)}var Ta,Na,Sa=localStorage.getItem("playerSession.jwt"),ja=ae.a.createConsumer("".concat(S,"/cable?jwt=").concat(Sa));function Da(){return vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ot.f)((function(e){return e.data.playerSession.playerId}));case 2:return Na=e.sent,Na="".concat(Na),e.next=6,ja.subscriptions.create({channel:"TestChannel"},{connected:function(){console.log("ActionCable connected."),Ma({type:"JOIN_ROOM",from:Na})},received:function(e){if(e.from!==Na)switch(console.log("ActionCable received: ",e),e.type){case"JOIN_ROOM":return wa(e);case"EXCHANGE":if(e.to!==Na)return;return Ba(e);case"REMOVE_USER":return ka(e);default:return}}});case 6:Ta=e.sent;case 7:case"end":return e.stop()}}),ta)}var xa={};function Ra(){var e;return vt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e in xa)xa[e].close();xa={},Ta.unsubscribe(),document.getElementById("remote-video-container").innerHTML="",Ma({type:"REMOVE_USER",from:Na});case 6:case"end":return t.stop()}}),aa)}var wa=function(e){Pa(e.from,!0)},ka=function(e){console.log("Removing user",e.from);var t=document.getElementById("remoteVideoContainer+".concat(e.from));t&&t.remove(),delete xa[e.from]},La={iceServers:[{urls:"stun:stun.l.google.com:19302"}]};function Pa(e,t){var a=new RTCPeerConnection(La);xa[e]=a;var n,r=Object(ft.a)(kt.getTracks());try{for(r.s();!(n=r.n()).done;){var c=n.value;a.addTrack(c,kt)}}catch(i){r.e(i)}finally{r.f()}return t&&a.createOffer().then((function(e){return a.setLocalDescription(e)})).then((function(){Ma({type:"EXCHANGE",from:Na,to:e,sdp:JSON.stringify(a.localDescription)})})).catch(Fa),a.onicecandidate=function(t){t.candidate&&Ma({type:"EXCHANGE",from:Na,to:e,candidate:JSON.stringify(t.candidate)})},a.ontrack=function(t){if("video"===t.track.kind){var a=document.createElement("video");a.id="remoteVideoContainer+".concat(e),a.autoplay="autoplay",a.srcObject=t.streams[0],document.getElementById("remote-video-container").appendChild(a)}},a.oniceconnectionstatechange=function(t){"disconnected"===a.iceConnectionState&&(console.log("Disconnected: ",e),Ma({type:"REMOVE_USER",from:e}))},a}var Ba=function(e){var t;if(t=xa[e.from]?xa[e.from]:Pa(e.from,!1),e.candidate&&t.addIceCandidate(new RTCIceCandidate(JSON.parse(e.candidate))).then((function(){return console.log("Ice candidate added")})).catch(Fa),e.sdp){var a=JSON.parse(e.sdp);t.setRemoteDescription(new RTCSessionDescription(a)).then((function(){"offer"===a.type&&t.createAnswer().then((function(e){return t.setLocalDescription(e)})).then((function(){Ma({type:"EXCHANGE",from:Na,to:e.from,sdp:JSON.stringify(t.localDescription)})}))})).catch(Fa)}};function Ma(e){!function(e){var t=new FormData;Object.keys(e).map((function(a){t.append(a,e[a])})),At.post("tests",t)}(e)}var Fa=function(e){return console.log(e)};function Ha(){return vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ot.h)("LOADING_TABLES_DATA",ia);case 2:return e.next=4,Object(Ot.h)("LOGIN_FORM_ON_SUBMIT",ca);case 4:return e.next=6,Object(Ot.h)("CREATE_TABLE_FORM_ON_SUBMIT",ra);case 6:return e.next=8,Object(Ot.h)("FETCH_PLAYER",fa);case 8:return e.next=10,Object(Ot.h)("BET_ACTION",pa);case 10:return e.next=12,Object(Ot.h)("CALL_ACTION",da);case 12:return e.next=14,Object(Ot.h)("FOLD_ACTION",ua);case 14:return e.next=16,Object(Ot.h)("CHECK_ACTION",oa);case 16:return e.next=18,Object(Ot.h)("MUCK_HAND_ACTION",la);case 18:return e.next=20,Object(Ot.h)("SHOW_HAND_ACTION",sa);case 20:return e.next=22,Object(Ot.h)("GAME_START_BUTTON_CLICKED",ha);case 22:return e.next=24,Object(Ot.h)("TAKE_POT_ACTION",ma);case 24:return e.next=26,Object(Ot.h)("PLAYER_TAKE_SEAT",Ea);case 26:return e.next=28,Object(Ot.h)("ADD_NPC_PLAYER",ba);case 28:return e.next=30,Object(Ot.h)("BEFORE_PLAYER_ACTION_RECEIVED",Oa);case 30:return e.next=32,Object(Ot.h)("SETUP_GAME_START_TIMER",Ca);case 32:return e.next=34,Object(Ot.b)(Aa);case 34:return e.next=36,Object(Ot.h)("HANDLE_JOIN_SESSION",Da);case 36:return e.next=38,Object(Ot.h)("HANDLE_LEAVE_SESSION",Ra);case 38:return e.next=40,Object(Ot.h)("INITIALIZE_WEBRTC",Ia);case 40:case"end":return e.stop()}}),na)}var Ga=Object(Qe.createLogger)({duration:!0,collapsed:!0});var Ua=a(219),Ya=(a(163),a(112)),za=Object(Ya.a)({palette:{primary:{main:"#5B9FA4"}},typography:{useNextVariants:!0}}),Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(bt.b)(),a=Object(Je.d)(Et,e,Object(Je.a)(t,Ga));return t.run(Ha),a}();Object(c.render)(r.a.createElement(Ua.a,{theme:za},r.a.createElement(i.a,{store:Va},r.a.createElement(Ke,null))),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}))}},[[124,1,2]]]);
//# sourceMappingURL=main.f2fb9f74.chunk.js.map